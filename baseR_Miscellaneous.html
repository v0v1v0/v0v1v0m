<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Scaffolding - Reference Manual - 20&nbsp; Miscellaneous</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./appendices_references.html" rel="next">
<link href="./baseR_R_Environment_Essentials.html" rel="prev">
<link href="./favicon.ico" rel="icon">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<meta property="og:title" content="Scaffolding - Reference Manual - 20&nbsp; Miscellaneous">
<meta property="og:site-name" content="Scaffolding - Reference Manual">
<meta name="twitter:title" content="Scaffolding - Reference Manual - 20&nbsp; Miscellaneous">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./baseR_Statements_and_Variables.html">Learning How to Programming</a></li><li class="breadcrumb-item"><a href="./baseR_Miscellaneous.html"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Miscellaneous</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Scaffolding - Reference Manual</a> 
        <div class="sidebar-tools-main">
    <div class="dropdown">
      <a href="" title="Download" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download"><i class="bi bi-download"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./Scaffolding---Reference-Manual.pdf">
              <i class="bi bi-bi-file-pdf pe-1"></i>
            Download PDF
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./Scaffolding---Reference-Manual.docx">
              <i class="bi bi-bi-file-word pe-1"></i>
            Download Docx
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./Scaffolding---Reference-Manual.epub">
              <i class="bi bi-bi-journal pe-1"></i>
            Download ePub
            </a>
          </li>
      </ul>
    </div>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Purpose</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./getting_started.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Getting Started</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">IDE</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ide_components.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">IDE Component Conversations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ide_demos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">IDE Demos Conversations</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Learning How to Programming</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./baseR_Statements_and_Variables.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Statements and Variables</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./baseR_Working_with_Vectors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Working with Vectors</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./baseR_Introduction_to_Lists.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Introduction to Lists</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./baseR_Matrix_Operations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Matrix Operations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./baseR_Working_with_Data_Frames.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Working with Data Frames</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./baseR_Combining_and_Reshaping_Data_Structures.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Combining and Reshaping Data Structures</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./baseR_Casting_and_Structure_Manipulations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Casting and Structure Manipulations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./baseR_Functions_in_R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Functions in R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./baseR_Programming_in_R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Programming in R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./baseR_String_Manipulation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">String Manipulation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./baseR_Applying_Functions_Across_Data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Applying Functions Across Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./baseR_Probability_Distributions_and_Sampling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Probability Distributions and Sampling</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./baseR_Dates_and_Times.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Dates and Times</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./baseR_Basic_Graphics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Basic Graphics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./baseR_Working_with_Files.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Working with Files</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./baseR_R_Environment_Essentials.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">R Environment Essentials</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./baseR_Miscellaneous.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Miscellaneous</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./appendices_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#using-sprintf-in-r" id="toc-using-sprintf-in-r" class="nav-link active" data-scroll-target="#using-sprintf-in-r"><span class="header-section-number">20.1</span> Using sprintf in R</a>
  <ul class="collapse">
  <li><a href="#video" id="toc-video" class="nav-link" data-scroll-target="#video"><span class="header-section-number">20.1.1</span> Video</a></li>
  <li><a href="#code" id="toc-code" class="nav-link" data-scroll-target="#code"><span class="header-section-number">20.1.2</span> Code</a></li>
  <li><a href="#transcript" id="toc-transcript" class="nav-link" data-scroll-target="#transcript"><span class="header-section-number">20.1.3</span> Transcript</a></li>
  </ul></li>
  <li><a href="#using-utils_rprof-for-profiling-r-code" id="toc-using-utils_rprof-for-profiling-r-code" class="nav-link" data-scroll-target="#using-utils_rprof-for-profiling-r-code"><span class="header-section-number">20.2</span> Using utils_Rprof for Profiling R Code</a>
  <ul class="collapse">
  <li><a href="#video-1" id="toc-video-1" class="nav-link" data-scroll-target="#video-1"><span class="header-section-number">20.2.1</span> Video</a></li>
  <li><a href="#code-1" id="toc-code-1" class="nav-link" data-scroll-target="#code-1"><span class="header-section-number">20.2.2</span> Code</a></li>
  <li><a href="#transcript-1" id="toc-transcript-1" class="nav-link" data-scroll-target="#transcript-1"><span class="header-section-number">20.2.3</span> Transcript</a></li>
  </ul></li>
  <li><a href="#using-trycatch" id="toc-using-trycatch" class="nav-link" data-scroll-target="#using-trycatch"><span class="header-section-number">20.3</span> Using tryCatch</a>
  <ul class="collapse">
  <li><a href="#video-2" id="toc-video-2" class="nav-link" data-scroll-target="#video-2"><span class="header-section-number">20.3.1</span> Video</a></li>
  <li><a href="#code-2" id="toc-code-2" class="nav-link" data-scroll-target="#code-2"><span class="header-section-number">20.3.2</span> Code</a></li>
  <li><a href="#transcript-2" id="toc-transcript-2" class="nav-link" data-scroll-target="#transcript-2"><span class="header-section-number">20.3.3</span> Transcript</a></li>
  </ul></li>
  <li><a href="#combinatorial-functions-in-r" id="toc-combinatorial-functions-in-r" class="nav-link" data-scroll-target="#combinatorial-functions-in-r"><span class="header-section-number">20.4</span> Combinatorial Functions in R</a>
  <ul class="collapse">
  <li><a href="#video-3" id="toc-video-3" class="nav-link" data-scroll-target="#video-3"><span class="header-section-number">20.4.1</span> Video</a></li>
  <li><a href="#code-3" id="toc-code-3" class="nav-link" data-scroll-target="#code-3"><span class="header-section-number">20.4.2</span> Code</a></li>
  <li><a href="#transcript-3" id="toc-transcript-3" class="nav-link" data-scroll-target="#transcript-3"><span class="header-section-number">20.4.3</span> Transcript</a></li>
  </ul></li>
  <li><a href="#understanding-closures-in-r" id="toc-understanding-closures-in-r" class="nav-link" data-scroll-target="#understanding-closures-in-r"><span class="header-section-number">20.5</span> Understanding Closures in R</a>
  <ul class="collapse">
  <li><a href="#video-4" id="toc-video-4" class="nav-link" data-scroll-target="#video-4"><span class="header-section-number">20.5.1</span> Video</a></li>
  <li><a href="#code-4" id="toc-code-4" class="nav-link" data-scroll-target="#code-4"><span class="header-section-number">20.5.2</span> Code</a></li>
  <li><a href="#transcript-4" id="toc-transcript-4" class="nav-link" data-scroll-target="#transcript-4"><span class="header-section-number">20.5.3</span> Transcript</a></li>
  </ul></li>
  <li><a href="#creating-and-using-environments-in-r" id="toc-creating-and-using-environments-in-r" class="nav-link" data-scroll-target="#creating-and-using-environments-in-r"><span class="header-section-number">20.6</span> Creating and Using Environments in R</a>
  <ul class="collapse">
  <li><a href="#video-5" id="toc-video-5" class="nav-link" data-scroll-target="#video-5"><span class="header-section-number">20.6.1</span> Video</a></li>
  <li><a href="#code-5" id="toc-code-5" class="nav-link" data-scroll-target="#code-5"><span class="header-section-number">20.6.2</span> Code</a></li>
  <li><a href="#transcript-5" id="toc-transcript-5" class="nav-link" data-scroll-target="#transcript-5"><span class="header-section-number">20.6.3</span> Transcript</a></li>
  </ul></li>
  <li><a href="#handling-errors-warnings-and-output-in-r" id="toc-handling-errors-warnings-and-output-in-r" class="nav-link" data-scroll-target="#handling-errors-warnings-and-output-in-r"><span class="header-section-number">20.7</span> Handling Errors, Warnings, and Output in R</a>
  <ul class="collapse">
  <li><a href="#video-6" id="toc-video-6" class="nav-link" data-scroll-target="#video-6"><span class="header-section-number">20.7.1</span> Video</a></li>
  <li><a href="#code-6" id="toc-code-6" class="nav-link" data-scroll-target="#code-6"><span class="header-section-number">20.7.2</span> Code</a></li>
  <li><a href="#transcript-6" id="toc-transcript-6" class="nav-link" data-scroll-target="#transcript-6"><span class="header-section-number">20.7.3</span> Transcript</a></li>
  </ul></li>
  <li><a href="#working-with-global-options-in-r" id="toc-working-with-global-options-in-r" class="nav-link" data-scroll-target="#working-with-global-options-in-r"><span class="header-section-number">20.8</span> Working with Global Options in R</a>
  <ul class="collapse">
  <li><a href="#video-7" id="toc-video-7" class="nav-link" data-scroll-target="#video-7"><span class="header-section-number">20.8.1</span> Video</a></li>
  <li><a href="#code-7" id="toc-code-7" class="nav-link" data-scroll-target="#code-7"><span class="header-section-number">20.8.2</span> Code</a></li>
  <li><a href="#transcript-7" id="toc-transcript-7" class="nav-link" data-scroll-target="#transcript-7"><span class="header-section-number">20.8.3</span> Transcript</a></li>
  </ul></li>
  <li><a href="#using-do.call-to-run-a-function-dynamically" id="toc-using-do.call-to-run-a-function-dynamically" class="nav-link" data-scroll-target="#using-do.call-to-run-a-function-dynamically"><span class="header-section-number">20.9</span> Using do.call to Run a Function Dynamically</a>
  <ul class="collapse">
  <li><a href="#video-8" id="toc-video-8" class="nav-link" data-scroll-target="#video-8"><span class="header-section-number">20.9.1</span> Video</a></li>
  <li><a href="#code-8" id="toc-code-8" class="nav-link" data-scroll-target="#code-8"><span class="header-section-number">20.9.2</span> Code</a></li>
  <li><a href="#transcript-8" id="toc-transcript-8" class="nav-link" data-scroll-target="#transcript-8"><span class="header-section-number">20.9.3</span> Transcript</a></li>
  </ul></li>
  <li><a href="#understanding-.last.value-in-r" id="toc-understanding-.last.value-in-r" class="nav-link" data-scroll-target="#understanding-.last.value-in-r"><span class="header-section-number">20.10</span> Understanding .Last.value in R</a>
  <ul class="collapse">
  <li><a href="#video-9" id="toc-video-9" class="nav-link" data-scroll-target="#video-9"><span class="header-section-number">20.10.1</span> Video</a></li>
  <li><a href="#code-9" id="toc-code-9" class="nav-link" data-scroll-target="#code-9"><span class="header-section-number">20.10.2</span> Code</a></li>
  <li><a href="#transcript-9" id="toc-transcript-9" class="nav-link" data-scroll-target="#transcript-9"><span class="header-section-number">20.10.3</span> Transcript</a></li>
  </ul></li>
  <li><a href="#understanding-with-attach-and-detach-in-r" id="toc-understanding-with-attach-and-detach-in-r" class="nav-link" data-scroll-target="#understanding-with-attach-and-detach-in-r"><span class="header-section-number">20.11</span> Understanding with, attach, and detach in R</a>
  <ul class="collapse">
  <li><a href="#video-10" id="toc-video-10" class="nav-link" data-scroll-target="#video-10"><span class="header-section-number">20.11.1</span> Video</a></li>
  <li><a href="#code-10" id="toc-code-10" class="nav-link" data-scroll-target="#code-10"><span class="header-section-number">20.11.2</span> Code</a></li>
  <li><a href="#transcript-10" id="toc-transcript-10" class="nav-link" data-scroll-target="#transcript-10"><span class="header-section-number">20.11.3</span> Transcript</a></li>
  </ul></li>
  <li><a href="#subsetting-in-r-with-subset" id="toc-subsetting-in-r-with-subset" class="nav-link" data-scroll-target="#subsetting-in-r-with-subset"><span class="header-section-number">20.12</span> Subsetting in R with subset</a>
  <ul class="collapse">
  <li><a href="#video-11" id="toc-video-11" class="nav-link" data-scroll-target="#video-11"><span class="header-section-number">20.12.1</span> Video</a></li>
  <li><a href="#code-11" id="toc-code-11" class="nav-link" data-scroll-target="#code-11"><span class="header-section-number">20.12.2</span> Code</a></li>
  <li><a href="#transcript-11" id="toc-transcript-11" class="nav-link" data-scroll-target="#transcript-11"><span class="header-section-number">20.12.3</span> Transcript</a></li>
  </ul></li>
  <li><a href="#preallocating-data-structures-in-r" id="toc-preallocating-data-structures-in-r" class="nav-link" data-scroll-target="#preallocating-data-structures-in-r"><span class="header-section-number">20.13</span> Preallocating Data Structures in R</a>
  <ul class="collapse">
  <li><a href="#video-12" id="toc-video-12" class="nav-link" data-scroll-target="#video-12"><span class="header-section-number">20.13.1</span> Video</a></li>
  <li><a href="#code-12" id="toc-code-12" class="nav-link" data-scroll-target="#code-12"><span class="header-section-number">20.13.2</span> Code</a></li>
  <li><a href="#transcript-12" id="toc-transcript-12" class="nav-link" data-scroll-target="#transcript-12"><span class="header-section-number">20.13.3</span> Transcript</a></li>
  </ul></li>
  <li><a href="#using-transform-and-within-in-r" id="toc-using-transform-and-within-in-r" class="nav-link" data-scroll-target="#using-transform-and-within-in-r"><span class="header-section-number">20.14</span> Using transform and within in R</a>
  <ul class="collapse">
  <li><a href="#video-13" id="toc-video-13" class="nav-link" data-scroll-target="#video-13"><span class="header-section-number">20.14.1</span> Video</a></li>
  <li><a href="#code-13" id="toc-code-13" class="nav-link" data-scroll-target="#code-13"><span class="header-section-number">20.14.2</span> Code</a></li>
  <li><a href="#transcript-13" id="toc-transcript-13" class="nav-link" data-scroll-target="#transcript-13"><span class="header-section-number">20.14.3</span> Transcript</a></li>
  </ul></li>
  <li><a href="#using-the-repeat-function-in-r" id="toc-using-the-repeat-function-in-r" class="nav-link" data-scroll-target="#using-the-repeat-function-in-r"><span class="header-section-number">20.15</span> Using the repeat Function in R</a>
  <ul class="collapse">
  <li><a href="#video-14" id="toc-video-14" class="nav-link" data-scroll-target="#video-14"><span class="header-section-number">20.15.1</span> Video</a></li>
  <li><a href="#code-14" id="toc-code-14" class="nav-link" data-scroll-target="#code-14"><span class="header-section-number">20.15.2</span> Code</a></li>
  <li><a href="#transcript-14" id="toc-transcript-14" class="nav-link" data-scroll-target="#transcript-14"><span class="header-section-number">20.15.3</span> Transcript</a></li>
  </ul></li>
  <li><a href="#exploring-the-outer-function-for-pairwise-combinations" id="toc-exploring-the-outer-function-for-pairwise-combinations" class="nav-link" data-scroll-target="#exploring-the-outer-function-for-pairwise-combinations"><span class="header-section-number">20.16</span> Exploring the outer Function for Pairwise Combinations</a>
  <ul class="collapse">
  <li><a href="#video-15" id="toc-video-15" class="nav-link" data-scroll-target="#video-15"><span class="header-section-number">20.16.1</span> Video</a></li>
  <li><a href="#code-15" id="toc-code-15" class="nav-link" data-scroll-target="#code-15"><span class="header-section-number">20.16.2</span> Code</a></li>
  <li><a href="#transcript-15" id="toc-transcript-15" class="nav-link" data-scroll-target="#transcript-15"><span class="header-section-number">20.16.3</span> Transcript</a></li>
  </ul></li>
  <li><a href="#applying-functions-to-parallel-vectors-or-lists-with-mapply" id="toc-applying-functions-to-parallel-vectors-or-lists-with-mapply" class="nav-link" data-scroll-target="#applying-functions-to-parallel-vectors-or-lists-with-mapply"><span class="header-section-number">20.17</span> Applying Functions to Parallel Vectors or Lists with mapply</a>
  <ul class="collapse">
  <li><a href="#video-16" id="toc-video-16" class="nav-link" data-scroll-target="#video-16"><span class="header-section-number">20.17.1</span> Video</a></li>
  <li><a href="#code-16" id="toc-code-16" class="nav-link" data-scroll-target="#code-16"><span class="header-section-number">20.17.2</span> Code</a></li>
  <li><a href="#transcript-16" id="toc-transcript-16" class="nav-link" data-scroll-target="#transcript-16"><span class="header-section-number">20.17.3</span> Transcript</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Miscellaneous</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="using-sprintf-in-r" class="level2" data-number="20.1">
<h2 data-number="20.1" class="anchored" data-anchor-id="using-sprintf-in-r"><span class="header-section-number">20.1</span> Using sprintf in R</h2>
<section id="video" class="level3" data-number="20.1.1">
<h3 data-number="20.1.1" class="anchored" data-anchor-id="video"><span class="header-section-number">20.1.1</span> Video</h3>
<p>Link</p>
</section>
<section id="code" class="level3" data-number="20.1.2">
<h3 data-number="20.1.2" class="anchored" data-anchor-id="code"><span class="header-section-number">20.1.2</span> Code</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">"Hello, %s!"</span>, <span class="st">"world"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] "Hello, world!"</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">"Name: %s, Age: %d, Height: %.2f"</span>, <span class="st">"Alice"</span>, <span class="dv">30</span>, <span class="fl">5.678</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] "Name: Alice, Age: 30, Height: 5.68"</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">"Number: %5d"</span>, <span class="dv">42</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] "Number:    42"</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">"Number: %-5d"</span>, <span class="dv">42</span>)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] "Number: 42   "</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">"Number: %05d"</span>, <span class="dv">42</span>)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] "Number: 00042"</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">"Pi: %.3f"</span>, <span class="fl">3.141592</span>)</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] "Pi: 3.142"</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">"Pi: %10.3f"</span>, <span class="fl">3.141592</span>)</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] "Pi:      3.142"</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">"'%10s'"</span>, <span class="st">"hello"</span>)</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] "'     hello'"</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">"'%-10s'"</span>, <span class="st">"hello"</span>)</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] "'hello     '"</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">"Name: %s, Age: %d"</span>, <span class="st">"Alice"</span>)</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a><span class="do">## Error in sprintf("Name: %s, Age: %d", "Alice") : too few arguments</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">"Row %d: %s"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="fu">c</span>(<span class="st">"Alice"</span>, <span class="st">"Bob"</span>, <span class="st">"Charlie"</span>))</span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] "Row 1: Alice"   "Row 2: Bob"   "Row 3: Charlie"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="transcript" class="level3" data-number="20.1.3">
<h3 data-number="20.1.3" class="anchored" data-anchor-id="transcript"><span class="header-section-number">20.1.3</span> Transcript</h3>
<p><strong>User:</strong> Hey R-Bot, I came across the sprintf function while looking through some code. Can you tell me what it does and how to use it?</p>
<p><strong>R-Bot:</strong> Absolutely! The sprintf function is a powerful tool in R for formatting strings. It allows you to create precisely formatted text by substituting values into a template string.</p>
<p>Think of it like filling in the blanks in a sentence. You write a template with placeholders, and sprintf replaces those placeholders with your data.</p>
<p><strong>User:</strong> Sounds interesting! Can you show me an example?</p>
<p><strong>R-Bot:</strong> Of course! Here’s a basic example:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">"Hello, %s!"</span>, <span class="st">"world"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The %s is a placeholder for a string, and sprintf replaces it with "world". The result is:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"Hello, world!"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> What other placeholders can I use?</p>
<p><strong>R-Bot:</strong> Great question! Here are the most common ones:</p>
<ul>
<li><p>%s for strings.</p></li>
<li><p>%d or %i for integers.</p></li>
<li><p>%f for floating-point numbers (doubles).</p></li>
</ul>
<p>You can mix and match these placeholders in your template string. For example:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">"Name: %s, Age: %d, Height: %.2f"</span>, <span class="st">"Alice"</span>, <span class="dv">30</span>, <span class="fl">5.678</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This outputs:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"Name: Alice, Age: 30, Height: 5.68"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Notice the %.2f? That specifies two decimal places for the floating-point number.</p>
<p><strong>User:</strong> That’s really cool! Can I control the width or alignment of the output?</p>
<p><strong>R-Bot:</strong> Absolutely! You can use flags to control the width, padding, and alignment. Here are some common formatting options:</p>
<p><strong>Minimum Width:</strong> Specify the minimum number of characters for the output. For example:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">"Number: %5d"</span>, <span class="dv">42</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This produces:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"Number:    42"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol type="1">
<li>The 5 means the output will be at least 5 characters wide, with spaces added for padding.</li>
</ol>
<p><strong>Left Alignment:</strong> Use a - to align text to the left:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">"Number: %-5d"</span>, <span class="dv">42</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"Number: 42   "</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Zero Padding:</strong> Use a 0 to pad numbers with zeros:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">"Number: %05d"</span>, <span class="dv">42</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"Number: 00042"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> How about formatting floating-point numbers? Can I control the number of decimals?</p>
<p><strong>R-Bot:</strong> Absolutely! For floating-point numbers, you can use the %.nf format, where n is the number of decimal places. For example:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">"Pi: %.3f"</span>, <span class="fl">3.141592</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This produces:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"Pi: 3.142"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can combine width and precision, too:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">"Pi: %10.3f"</span>, <span class="fl">3.141592</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"Pi:      3.142"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Here, 10 specifies a width of 10 characters, and .3f specifies three decimal places.</p>
<p><strong>User:</strong> Can I include both leading and trailing spaces in my output?</p>
<p><strong>R-Bot:</strong> Yes, you can! By combining width, alignment, and padding, you can control both leading and trailing spaces.</p>
<p>For example:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">"'%10s'"</span>, <span class="st">"hello"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This adds leading spaces:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"'     hello'"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>And with left alignment:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">"'%-10s'"</span>, <span class="st">"hello"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This adds trailing spaces:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"'hello     '"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> What happens if I use more placeholders than values?</p>
<p><strong>R-Bot:</strong> If you don’t provide enough values for the placeholders, sprintf will throw an error. For example:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">"Name: %s, Age: %d"</span>, <span class="st">"Alice"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This results in:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> <span class="fu">sprintf</span>(<span class="st">"Name: %s, Age: %d"</span>, <span class="st">"Alice"</span>) <span class="sc">:</span> too few arguments</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>So, always make sure to provide the exact number of arguments for your placeholders.</p>
<p><strong>User:</strong> Is there anything else I should know about sprintf?</p>
<p><strong>R-Bot:</strong> One final tip: sprintf can work with vectors! It automatically recycles values to match the length of the longest vector. For example:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">"Row %d: %s"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="fu">c</span>(<span class="st">"Alice"</span>, <span class="st">"Bob"</span>, <span class="st">"Charlie"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This outputs:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"Row 1: Alice"</span>   <span class="st">"Row 2: Bob"</span>   <span class="st">"Row 3: Charlie"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>It’s a handy way to generate formatted strings for multiple items in one go.</p>
<p><strong>User:</strong> Wow, sprintf seems incredibly versatile. Thanks, R-Bot!</p>
<p><strong>R-Bot:</strong> You’re welcome! With sprintf, you can format strings like a pro. Go ahead and try it in your projects—it’s a fantastic tool for creating polished output.</p>
</section>
</section>
<section id="using-utils_rprof-for-profiling-r-code" class="level2" data-number="20.2">
<h2 data-number="20.2" class="anchored" data-anchor-id="using-utils_rprof-for-profiling-r-code"><span class="header-section-number">20.2</span> Using utils_Rprof for Profiling R Code</h2>
<section id="video-1" class="level3" data-number="20.2.1">
<h3 data-number="20.2.1" class="anchored" data-anchor-id="video-1"><span class="header-section-number">20.2.1</span> Video</h3>
<p>Link</p>
</section>
<section id="code-1" class="level3" data-number="20.2.2">
<h3 data-number="20.2.2" class="anchored" data-anchor-id="code-1"><span class="header-section-number">20.2.2</span> Code</h3>
<div class="sourceCode" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>sum_of_squares <span class="ot">&lt;-</span> <span class="cf">function</span>(n) {</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  total <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n) {</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    total <span class="ot">&lt;-</span> total <span class="sc">+</span> i<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(total)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="fu">Rprof</span>(<span class="st">"profile.out"</span>)         <span class="do">## Start profiling</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="fu">sum_of_squares</span>(<span class="dv">10000</span>)        <span class="do">## Run the function</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a><span class="fu">Rprof</span>(<span class="cn">NULL</span>)                  <span class="do">## Stop profiling</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a><span class="fu">summaryRprof</span>(<span class="st">"profile.out"</span>)</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a><span class="do">## $by.total</span></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a><span class="do">##                      total.time total.pct self.time self.pct</span></span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a><span class="do">## "sum_of_squares"          0.05      50.0     0.02      20.0</span></span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a><span class="do">## "^"                       0.03      30.0     0.03      30.0</span></span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a><span class="do">## $by.self</span></span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a><span class="do">##                      total.time total.pct self.time self.pct</span></span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a><span class="do">## "^"                       0.03      30.0     0.03      30.0</span></span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a><span class="do">## "sum_of_squares"          0.05      50.0     0.02      20.0</span></span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a><span class="fu">Rprof</span>(<span class="st">"profile.out"</span>)         <span class="do">## Start profiling</span></span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Code block you want to analyze</span></span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum_of_squares</span>(<span class="dv">10000</span>)</span>
<span id="cb24-33"><a href="#cb24-33" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb24-34"><a href="#cb24-34" aria-hidden="true" tabindex="-1"></a><span class="fu">Rprof</span>(<span class="cn">NULL</span>)                  <span class="do">## Stop profiling</span></span>
<span id="cb24-35"><a href="#cb24-35" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="transcript-1" class="level3" data-number="20.2.3">
<h3 data-number="20.2.3" class="anchored" data-anchor-id="transcript-1"><span class="header-section-number">20.2.3</span> Transcript</h3>
<p><strong>User:</strong> Hey R-Bot, I’ve been working on some R scripts, and I feel like some parts of my code are running slower than they should. How can I figure out where the bottlenecks are?</p>
<p><strong>R-Bot:</strong> Great question! When it comes to identifying performance issues in R code, profiling is the way to go. R provides a built-in tool for this called Rprof, which comes from the utils package. It allows you to see how much time your code spends in each function.</p>
<p><strong>User:</strong> That sounds perfect! How do I use it?</p>
<p><strong>R-Bot:</strong> Using Rprof is straightforward. You follow these steps:</p>
<ol type="1">
<li><p>Start profiling by calling Rprof("profile.out"). This tells R to begin collecting data and to write it to a file called "profile.out".</p></li>
<li><p>Run the code you want to profile.</p></li>
<li><p>Stop profiling by calling Rprof(NULL).</p></li>
<li><p>Analyze the results using the summaryRprof function.</p></li>
</ol>
<p><strong>User:</strong> Can you show me an example?</p>
<p><strong>R-Bot:</strong> Of course! Let’s say you have a function that calculates the sum of squares:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>sum_of_squares <span class="ot">&lt;-</span> <span class="cf">function</span>(n) {</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  total <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n) {</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    total <span class="ot">&lt;-</span> total <span class="sc">+</span> i<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(total)</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You want to profile this function for n = 10000. Here’s how you’d do it:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Rprof</span>(<span class="st">"profile.out"</span>)         <span class="do">## Start profiling</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sum_of_squares</span>(<span class="dv">10000</span>)        <span class="do">## Run the function</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="fu">Rprof</span>(<span class="cn">NULL</span>)                  <span class="do">## Stop profiling</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>After running this, you’ll have a file named profile.out in your working directory.</p>
<p><strong>User:</strong> How do I interpret the results in profile.out?</p>
<p><strong>R-Bot:</strong> Good question! Reading the raw output from profile.out can be tricky, so R provides the summaryRprof function to make sense of it.</p>
<p>Here’s how you’d use it:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summaryRprof</span>(<span class="st">"profile.out"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This produces a summary with two views:</p>
<ol type="1">
<li><p><strong>By total time:</strong> Shows how much time each function took in total, including the time spent in functions it called.</p></li>
<li><p><strong>By self time:</strong> Shows how much time was spent in the function itself, excluding time spent in other functions it called.</p></li>
</ol>
<p>For example, you might see something like this:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="do">## $by.total</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="do">##                      total.time total.pct self.time self.pct</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="do">## "sum_of_squares"          0.05      50.0     0.02      20.0</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="do">## "^"                       0.03      30.0     0.03      30.0</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="do">## $by.self</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="do">##                      total.time total.pct self.time self.pct</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="do">## "^"                       0.03      30.0     0.03      30.0</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="do">## "sum_of_squares"          0.05      50.0     0.02      20.0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This tells you that most of the time was spent in the exponentiation function (^), suggesting it’s the bottleneck.</p>
<p><strong>User:</strong> What about longer scripts? Will the profile output get too big?</p>
<p><strong>R-Bot:</strong> It can, especially for large or complex scripts. If you’re profiling a big script, it’s a good idea to narrow down the sections of interest by running Rprof around only those parts.</p>
<p>For example:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Rprof</span>(<span class="st">"profile.out"</span>)         <span class="do">## Start profiling</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Code block you want to analyze</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum_of_squares</span>(<span class="dv">10000</span>)</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="fu">Rprof</span>(<span class="cn">NULL</span>)                  <span class="do">## Stop profiling</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This keeps the profile file manageable and focused.</p>
<p><strong>User:</strong> Is there anything I should watch out for when using Rprof?</p>
<p><strong>R-Bot:</strong> Yes! Here are a few important tips:</p>
<ol type="1">
<li><p><strong>Sampling Overhead:</strong> Rprof uses sampling, so it may slightly affect your code’s runtime. However, this effect is usually minimal.</p></li>
<li><p><strong>Memory Profiling:</strong> Rprof doesn’t track memory usage. If you want to profile memory, you’ll need other tools like the profvis package.</p></li>
<li><p><strong>File Management:</strong> Always remember to call Rprof(NULL) to stop profiling. If you forget, R will keep collecting data indefinitely, and the profile file will grow unnecessarily large.</p></li>
</ol>
<p><strong>User:</strong> This is really helpful. Is Rprof useful for the Numerious IDE?</p>
<p><strong>R-Bot:</strong> It can be, but with some limitations. Because the Numerious IDE runs in the browser using WebR, performance results may differ from what you’d get running the same code on your local machine. The IDE is great for development and testing, but if you’re investigating performance for production-level scripts, you might want to run Rprof on your local R installation instead.</p>
<p><strong>User:</strong> Got it. Any other tips?</p>
<p><strong>R-Bot:</strong> Yes! If you plan to share your profiling results when asking for help, include details about your session environment using sessionInfo() and attach your profile.out file. This gives others the context they need to reproduce and understand your issue.</p>
<p><strong>User:</strong> Thanks, R-Bot! I’ll try this out now.</p>
<p><strong>R-Bot:</strong> You’re welcome! Happy profiling, and may your scripts run faster than ever!</p>
</section>
</section>
<section id="using-trycatch" class="level2" data-number="20.3">
<h2 data-number="20.3" class="anchored" data-anchor-id="using-trycatch"><span class="header-section-number">20.3</span> Using tryCatch</h2>
<section id="video-2" class="level3" data-number="20.3.1">
<h3 data-number="20.3.1" class="anchored" data-anchor-id="video-2"><span class="header-section-number">20.3.1</span> Video</h3>
<p>Link</p>
</section>
<section id="code-2" class="level3" data-number="20.3.2">
<h3 data-number="20.3.2" class="anchored" data-anchor-id="code-2"><span class="header-section-number">20.3.2</span> Code</h3>
<div class="sourceCode" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tryCatch</span>({</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Code that might throw an error</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>}, </span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Code to handle the error</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>},</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="at">warning =</span> <span class="cf">function</span>(w) {</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Code to handle the warning</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>},</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="at">finally =</span> {</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Code that runs no matter what</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>safe_division <span class="ot">&lt;-</span> <span class="cf">function</span>(a, b) {</span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tryCatch</span>({</span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>    result <span class="ot">&lt;-</span> a <span class="sc">/</span> b</span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="st">"The result is: "</span>, result)</span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>    result</span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a>  }, </span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="st">"Error: "</span>, e<span class="sc">$</span>message)</span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a>    <span class="cn">NA</span>  <span class="do">## Return NA if there's an error</span></span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-27"><a href="#cb30-27" aria-hidden="true" tabindex="-1"></a><span class="do">## Test cases</span></span>
<span id="cb30-28"><a href="#cb30-28" aria-hidden="true" tabindex="-1"></a><span class="fu">safe_division</span>(<span class="dv">10</span>, <span class="dv">2</span>)  <span class="do">## Normal case</span></span>
<span id="cb30-29"><a href="#cb30-29" aria-hidden="true" tabindex="-1"></a><span class="fu">safe_division</span>(<span class="dv">10</span>, <span class="dv">0</span>)  <span class="do">## Error case</span></span>
<span id="cb30-30"><a href="#cb30-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-31"><a href="#cb30-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-32"><a href="#cb30-32" aria-hidden="true" tabindex="-1"></a>safe_log <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb30-33"><a href="#cb30-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tryCatch</span>({</span>
<span id="cb30-34"><a href="#cb30-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">log</span>(x)</span>
<span id="cb30-35"><a href="#cb30-35" aria-hidden="true" tabindex="-1"></a>  },</span>
<span id="cb30-36"><a href="#cb30-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">warning =</span> <span class="cf">function</span>(w) {</span>
<span id="cb30-37"><a href="#cb30-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="st">"Warning: "</span>, w<span class="sc">$</span>message)</span>
<span id="cb30-38"><a href="#cb30-38" aria-hidden="true" tabindex="-1"></a>    <span class="cn">NA</span>  <span class="do">## Return NA if there's a warning</span></span>
<span id="cb30-39"><a href="#cb30-39" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb30-40"><a href="#cb30-40" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb30-41"><a href="#cb30-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-42"><a href="#cb30-42" aria-hidden="true" tabindex="-1"></a><span class="do">## Test cases</span></span>
<span id="cb30-43"><a href="#cb30-43" aria-hidden="true" tabindex="-1"></a><span class="fu">safe_log</span>(<span class="dv">10</span>)   <span class="do">## Normal case</span></span>
<span id="cb30-44"><a href="#cb30-44" aria-hidden="true" tabindex="-1"></a><span class="fu">safe_log</span>(<span class="sc">-</span><span class="dv">10</span>)  <span class="do">## Warning case</span></span>
<span id="cb30-45"><a href="#cb30-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-46"><a href="#cb30-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-47"><a href="#cb30-47" aria-hidden="true" tabindex="-1"></a>file_operations <span class="ot">&lt;-</span> <span class="cf">function</span>(filepath) {</span>
<span id="cb30-48"><a href="#cb30-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tryCatch</span>({</span>
<span id="cb30-49"><a href="#cb30-49" aria-hidden="true" tabindex="-1"></a>    <span class="do">## Simulate reading a file</span></span>
<span id="cb30-50"><a href="#cb30-50" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(filepath)) <span class="fu">stop</span>(<span class="st">"File not found!"</span>)</span>
<span id="cb30-51"><a href="#cb30-51" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="st">"File read successfully!"</span>)</span>
<span id="cb30-52"><a href="#cb30-52" aria-hidden="true" tabindex="-1"></a>    <span class="do">## Imagine reading the file here</span></span>
<span id="cb30-53"><a href="#cb30-53" aria-hidden="true" tabindex="-1"></a>  },</span>
<span id="cb30-54"><a href="#cb30-54" aria-hidden="true" tabindex="-1"></a>  <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb30-55"><a href="#cb30-55" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="st">"Error: "</span>, e<span class="sc">$</span>message)</span>
<span id="cb30-56"><a href="#cb30-56" aria-hidden="true" tabindex="-1"></a>  },</span>
<span id="cb30-57"><a href="#cb30-57" aria-hidden="true" tabindex="-1"></a>  <span class="at">finally =</span> {</span>
<span id="cb30-58"><a href="#cb30-58" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="st">"Closing file connection (if it were open)."</span>)</span>
<span id="cb30-59"><a href="#cb30-59" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb30-60"><a href="#cb30-60" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb30-61"><a href="#cb30-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-62"><a href="#cb30-62" aria-hidden="true" tabindex="-1"></a><span class="do">## Test case</span></span>
<span id="cb30-63"><a href="#cb30-63" aria-hidden="true" tabindex="-1"></a><span class="fu">file_operations</span>(<span class="st">"nonexistent_file.txt"</span>)</span>
<span id="cb30-64"><a href="#cb30-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-65"><a href="#cb30-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-66"><a href="#cb30-66" aria-hidden="true" tabindex="-1"></a>numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">0</span>, <span class="sc">-</span><span class="dv">5</span>)</span>
<span id="cb30-67"><a href="#cb30-67" aria-hidden="true" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">sapply</span>(numbers, <span class="cf">function</span>(n) {</span>
<span id="cb30-68"><a href="#cb30-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tryCatch</span>({</span>
<span id="cb30-69"><a href="#cb30-69" aria-hidden="true" tabindex="-1"></a>    <span class="dv">10</span> <span class="sc">/</span> n</span>
<span id="cb30-70"><a href="#cb30-70" aria-hidden="true" tabindex="-1"></a>  },</span>
<span id="cb30-71"><a href="#cb30-71" aria-hidden="true" tabindex="-1"></a>  <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb30-72"><a href="#cb30-72" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="st">"Error with input "</span>, n, <span class="st">": "</span>, e<span class="sc">$</span>message)</span>
<span id="cb30-73"><a href="#cb30-73" aria-hidden="true" tabindex="-1"></a>    <span class="cn">NA</span></span>
<span id="cb30-74"><a href="#cb30-74" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb30-75"><a href="#cb30-75" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb30-76"><a href="#cb30-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-77"><a href="#cb30-77" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="transcript-2" class="level3" data-number="20.3.3">
<h3 data-number="20.3.3" class="anchored" data-anchor-id="transcript-2"><span class="header-section-number">20.3.3</span> Transcript</h3>
<p><strong>User:</strong> Hey R-Bot, I’ve been writing some code, and sometimes it throws errors that stop the entire script. Is there a way to handle those errors more gracefully?</p>
<p><strong>R-Bot:</strong> Absolutely! What you’re looking for is tryCatch, a powerful function in R that allows you to handle errors, warnings, and other conditions in your code. It’s like putting a safety net around your code to control what happens when something goes wrong.</p>
<p><strong>User:</strong> That sounds helpful! How does tryCatch work?</p>
<p><strong>R-Bot:</strong> The basic idea is to wrap your code inside tryCatch and define how you want to handle errors, warnings, or even normal execution. Here’s the structure:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tryCatch</span>({</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Code that might throw an error</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>}, </span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Code to handle the error</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>},</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="at">warning =</span> <span class="cf">function</span>(w) {</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Code to handle the warning</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>},</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a><span class="at">finally =</span> {</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Code that runs no matter what</span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The error and warning handlers are optional, and the finally block is executed regardless of whether an error or warning occurs.</p>
<p><strong>User:</strong> Can you give me an example?</p>
<p><strong>R-Bot:</strong> Sure! Let’s say you have a division operation that might fail if the denominator is zero. Here’s how you could handle it with tryCatch:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>safe_division <span class="ot">&lt;-</span> <span class="cf">function</span>(a, b) {</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tryCatch</span>({</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>    result <span class="ot">&lt;-</span> a <span class="sc">/</span> b</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="st">"The result is: "</span>, result)</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>    result</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>  }, </span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="st">"Error: "</span>, e<span class="sc">$</span>message)</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>    <span class="cn">NA</span>  <span class="do">## Return NA if there's an error</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a><span class="do">## Test cases</span></span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a><span class="fu">safe_division</span>(<span class="dv">10</span>, <span class="dv">2</span>)  <span class="do">## Normal case</span></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a><span class="fu">safe_division</span>(<span class="dv">10</span>, <span class="dv">0</span>)  <span class="do">## Error case</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>When you divide by zero, it will catch the error, display a message, and return NA instead of crashing your script.</p>
<p><strong>User:</strong> Oh, that’s neat! Can it handle warnings too?</p>
<p><strong>R-Bot:</strong> Definitely! Here’s an example using a warning handler. Let’s suppose you’re taking the logarithm of a number, but you know negative numbers will produce warnings:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>safe_log <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tryCatch</span>({</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">log</span>(x)</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  },</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">warning =</span> <span class="cf">function</span>(w) {</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="st">"Warning: "</span>, w<span class="sc">$</span>message)</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>    <span class="cn">NA</span>  <span class="do">## Return NA if there's a warning</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a><span class="do">## Test cases</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a><span class="fu">safe_log</span>(<span class="dv">10</span>)   <span class="do">## Normal case</span></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a><span class="fu">safe_log</span>(<span class="sc">-</span><span class="dv">10</span>)  <span class="do">## Warning case</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This will catch warnings, print a custom message, and return NA.</p>
<p><strong>User:</strong> What about the finally block? How does that work?</p>
<p><strong>R-Bot:</strong> The finally block is for cleanup or actions you always want to perform, no matter what happens in the tryCatch. For instance:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>file_operations <span class="ot">&lt;-</span> <span class="cf">function</span>(filepath) {</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tryCatch</span>({</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>    <span class="do">## Simulate reading a file</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(filepath)) <span class="fu">stop</span>(<span class="st">"File not found!"</span>)</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="st">"File read successfully!"</span>)</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>    <span class="do">## Imagine reading the file here</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>  },</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="st">"Error: "</span>, e<span class="sc">$</span>message)</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>  },</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">finally =</span> {</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="st">"Closing file connection (if it were open)."</span>)</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a><span class="do">## Test case</span></span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a><span class="fu">file_operations</span>(<span class="st">"nonexistent_file.txt"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Even if the file doesn’t exist and an error occurs, the finally block ensures you clean up, like closing a file connection.</p>
<p><strong>User:</strong> Can I use tryCatch in a loop to handle multiple errors?</p>
<p><strong>R-Bot:</strong> Definitely! This is one of the best uses of tryCatch. For example, if you’re applying a function to a list of inputs and some might fail, you can handle each case individually:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">0</span>, <span class="sc">-</span><span class="dv">5</span>)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">sapply</span>(numbers, <span class="cf">function</span>(n) {</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tryCatch</span>({</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">10</span> <span class="sc">/</span> n</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>  },</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="st">"Error with input "</span>, n, <span class="st">": "</span>, e<span class="sc">$</span>message)</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>    <span class="cn">NA</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Here, you’ll get a result for each input, and errors won’t stop the loop.</p>
<p><strong>User:</strong> That’s awesome! Are there any gotchas with tryCatch?</p>
<p><strong>R-Bot:</strong> Good question! A few things to keep in mind:</p>
<ol type="1">
<li><p><strong>Scope:</strong> Variables created inside tryCatch won’t persist outside of it unless you explicitly return them.</p></li>
<li><p><strong>Performance:</strong> Wrapping everything in tryCatch might slow your code slightly, so use it judiciously.</p></li>
<li><p><strong>Complexity:</strong> Don’t overcomplicate your error-handling logic. Sometimes it’s better to let an error occur and fix the root cause.</p></li>
</ol>
<p><strong>User:</strong> Got it. One last thing: Can I use this in the Numerious IDE?</p>
<p><strong>R-Bot:</strong> Absolutely! The IDE fully supports tryCatch. For example, you could use it in scripts to gracefully handle missing files in the data directory or manage issues with plotting functions. Just remember to leverage the IDE’s tools, like the console and environment component, to debug and inspect your code.</p>
<p><strong>User:</strong> Thanks, R-Bot! I feel much more confident about handling errors now.</p>
<p><strong>R-Bot:</strong> You’re welcome! Happy error-catching, and may your code always run smoothly!</p>
</section>
</section>
<section id="combinatorial-functions-in-r" class="level2" data-number="20.4">
<h2 data-number="20.4" class="anchored" data-anchor-id="combinatorial-functions-in-r"><span class="header-section-number">20.4</span> Combinatorial Functions in R</h2>
<section id="video-3" class="level3" data-number="20.4.1">
<h3 data-number="20.4.1" class="anchored" data-anchor-id="video-3"><span class="header-section-number">20.4.1</span> Video</h3>
<p>Link</p>
</section>
<section id="code-3" class="level3" data-number="20.4.2">
<h3 data-number="20.4.2" class="anchored" data-anchor-id="code-3"><span class="header-section-number">20.4.2</span> Code</h3>
<div class="sourceCode" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">choose</span>(n, k)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">choose</span>(<span class="dv">5</span>, <span class="dv">2</span>)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="fu">combn</span>(x, m, <span class="at">FUN =</span> <span class="cn">NULL</span>, <span class="at">simplify =</span> <span class="cn">TRUE</span>)</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="fu">combn</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">2</span>)</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="do">##     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [1,]    1    1    1    2    2    2    3    3    4     4</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [2,]    2    3    4    3    4    5    4    5    5     5</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a><span class="fu">combn</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">2</span>, <span class="at">FUN =</span> sum)</span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 3 4 5 5 6 7 6 7 8 9</span></span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a><span class="fu">combn</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">2</span>, <span class="at">FUN =</span> prod)</span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a><span class="do">## [1]  2  3  4  5  6  8 10 12 15 20</span></span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a><span class="fu">combn</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">2</span>, <span class="at">simplify =</span> <span class="cn">FALSE</span>)</span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a><span class="do">## [[1]]</span></span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1 2</span></span>
<span id="cb36-24"><a href="#cb36-24" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb36-25"><a href="#cb36-25" aria-hidden="true" tabindex="-1"></a><span class="do">## [[2]]</span></span>
<span id="cb36-26"><a href="#cb36-26" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1 3</span></span>
<span id="cb36-27"><a href="#cb36-27" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb36-28"><a href="#cb36-28" aria-hidden="true" tabindex="-1"></a><span class="do">## [[3]]</span></span>
<span id="cb36-29"><a href="#cb36-29" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1 4</span></span>
<span id="cb36-30"><a href="#cb36-30" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb36-31"><a href="#cb36-31" aria-hidden="true" tabindex="-1"></a><span class="do">## ... and so on.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="transcript-3" class="level3" data-number="20.4.3">
<h3 data-number="20.4.3" class="anchored" data-anchor-id="transcript-3"><span class="header-section-number">20.4.3</span> Transcript</h3>
<p><strong>User:</strong> Hey R-Bot, I’ve been reading about combinatorics, and I need some help understanding how to use R for combinations. Specifically, I’ve heard about choose and combn. Can you explain those?</p>
<p><strong>R-Bot:</strong> Of course! Both choose and combn are powerful functions in R for combinatorics, and they each have specific uses.</p>
<p><strong>User:</strong> Let’s start with choose. What does it do?</p>
<p><strong>R-Bot:</strong> The choose function calculates the number of ways to choose k items from a total of n items, without considering the order. Mathematically, this is known as the binomial coefficient:</p>
<p><span class="math display">\[
\binom{n}{k} = \frac{n!}{k! \cdot (n-k)!}
\]</span></p>
<p>In R, the syntax is:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">choose</span>(n, k)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Where n is the total number of items, and k is the number of items to choose.</p>
<p><strong>User:</strong> Can you give me an example?</p>
<p><strong>R-Bot:</strong> Sure! Let’s say you have 5 items and want to choose 2:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">choose</span>(<span class="dv">5</span>, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This will return 10, meaning there are 10 unique ways to choose 2 items from a group of 5.</p>
<p><strong>User:</strong> So, it only gives me the count, not the actual combinations?</p>
<p><strong>R-Bot:</strong> Exactly! choose is just for calculating the count. If you need to generate the actual combinations, you’ll use combn.</p>
<p><strong>User:</strong> Ah, okay. Tell me about combn.</p>
<p><strong>R-Bot:</strong> The combn function generates all possible combinations of k items from a set of n items. The syntax is:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">combn</span>(x, m, <span class="at">FUN =</span> <span class="cn">NULL</span>, <span class="at">simplify =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Here:</p>
<ul>
<li><p>x is a vector of items.</p></li>
<li><p>m is the number of items to choose.</p></li>
<li><p>FUN is an optional argument to apply a function to each combination.</p></li>
<li><p>simplify determines whether the result is simplified to a matrix.</p></li>
</ul>
<p><strong>User:</strong> Can you show me a simple example?</p>
<p><strong>R-Bot:</strong> Sure! Let’s say you have the numbers 1 through 5, and you want all combinations of 2 items:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">combn</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The output will be a matrix where each column represents a combination:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="do">##     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1,]    1    1    1    2    2    2    3    3    4     4</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [2,]    2    3    4    3    4    5    4    5    5     5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>So, the combinations are:</p>
<ul>
<li><p>(1, 2)</p></li>
<li><p>(1, 3)</p></li>
<li><p>(1, 4),</p></li>
<li><p>and so on.</p></li>
</ul>
<p><strong>User:</strong> What if I want to do something with each combination? Like calculate the sum of the items?</p>
<p><strong>R-Bot:</strong> That’s where the FUN argument comes in handy! You can pass a function to apply to each combination. For example:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">combn</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">2</span>, <span class="at">FUN =</span> sum)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This will return a vector of the sums of all combinations:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 3 4 5 5 6 7 6 7 8 9</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> That’s pretty neat! Can I use it with custom functions?</p>
<p><strong>R-Bot:</strong> Absolutely! Let’s say you want to calculate the product of each combination:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">combn</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">2</span>, <span class="at">FUN =</span> prod)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This will return:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="do">## [1]  2  3  4  5  6  8 10 12 15 20</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Each value is the product of a pair from the combinations.</p>
<p><strong>User:</strong> What happens if I don’t want a matrix output?</p>
<p><strong>R-Bot:</strong> If you prefer a list instead of a matrix, you can set simplify = FALSE:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">combn</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">2</span>, <span class="at">simplify =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This will give you a list where each element is a combination:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="do">## [[1]]</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1 2</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [[2]]</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1 3</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [[3]]</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1 4</span></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a><span class="do">## ... and so on.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> Are there any gotchas with these functions?</p>
<p><strong>R-Bot:</strong> Just a couple:</p>
<ol type="1">
<li><p><strong>Large Combinations:</strong> If n and k are large, combn can generate huge outputs and may run out of memory. Use it carefully!</p></li>
<li><p><strong>Order Matters:</strong> Remember, these functions are for combinations, not permutations. If you care about order, you’ll need to use other methods like permutations from the gtools package.</p></li>
</ol>
<p><strong>User:</strong> Got it. Can I use these in the Numerious IDE?</p>
<p><strong>R-Bot:</strong> Definitely! You can use them in your scripts or the R console in the IDE. Just remember to save your results if you’re generating many combinations—you can use the data component to save them to a file for later use.</p>
<p><strong>User:</strong> Thanks, R-Bot! This opens up so many possibilities for my work.</p>
<p><strong>R-Bot:</strong> You’re welcome! Have fun exploring the world of combinations, and let me know if you need help with anything else.</p>
</section>
</section>
<section id="understanding-closures-in-r" class="level2" data-number="20.5">
<h2 data-number="20.5" class="anchored" data-anchor-id="understanding-closures-in-r"><span class="header-section-number">20.5</span> Understanding Closures in R</h2>
<section id="video-4" class="level3" data-number="20.5.1">
<h3 data-number="20.5.1" class="anchored" data-anchor-id="video-4"><span class="header-section-number">20.5.1</span> Video</h3>
<p>Link</p>
</section>
<section id="code-4" class="level3" data-number="20.5.2">
<h3 data-number="20.5.2" class="anchored" data-anchor-id="code-4"><span class="header-section-number">20.5.2</span> Code</h3>
<div class="sourceCode" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>counter <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  count <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">function</span>() {</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>    count <span class="ot">&lt;&lt;-</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>    count</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>my_counter <span class="ot">&lt;-</span> <span class="fu">counter</span>()</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a><span class="fu">my_counter</span>()  <span class="do">## Output: 1</span></span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a><span class="fu">my_counter</span>()  <span class="do">## Output: 2</span></span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a><span class="fu">my_counter</span>()  <span class="do">## Output: 3</span></span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a>counter1 <span class="ot">&lt;-</span> <span class="fu">counter</span>()</span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a>counter2 <span class="ot">&lt;-</span> <span class="fu">counter</span>()</span>
<span id="cb48-18"><a href="#cb48-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-19"><a href="#cb48-19" aria-hidden="true" tabindex="-1"></a><span class="fu">counter1</span>()  <span class="do">## Output: 1</span></span>
<span id="cb48-20"><a href="#cb48-20" aria-hidden="true" tabindex="-1"></a><span class="fu">counter1</span>()  <span class="do">## Output: 2</span></span>
<span id="cb48-21"><a href="#cb48-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-22"><a href="#cb48-22" aria-hidden="true" tabindex="-1"></a><span class="fu">counter2</span>()  <span class="do">## Output: 1</span></span>
<span id="cb48-23"><a href="#cb48-23" aria-hidden="true" tabindex="-1"></a><span class="fu">counter2</span>()  <span class="do">## Output: 2</span></span>
<span id="cb48-24"><a href="#cb48-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-25"><a href="#cb48-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-26"><a href="#cb48-26" aria-hidden="true" tabindex="-1"></a>make_greeter <span class="ot">&lt;-</span> <span class="cf">function</span>(name) {</span>
<span id="cb48-27"><a href="#cb48-27" aria-hidden="true" tabindex="-1"></a>  <span class="cf">function</span>() {</span>
<span id="cb48-28"><a href="#cb48-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(<span class="st">"Hello,"</span>, name, <span class="st">"!"</span>)</span>
<span id="cb48-29"><a href="#cb48-29" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb48-30"><a href="#cb48-30" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb48-31"><a href="#cb48-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-32"><a href="#cb48-32" aria-hidden="true" tabindex="-1"></a>greet_alice <span class="ot">&lt;-</span> <span class="fu">make_greeter</span>(<span class="st">"Alice"</span>)</span>
<span id="cb48-33"><a href="#cb48-33" aria-hidden="true" tabindex="-1"></a>greet_bob <span class="ot">&lt;-</span> <span class="fu">make_greeter</span>(<span class="st">"Bob"</span>)</span>
<span id="cb48-34"><a href="#cb48-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-35"><a href="#cb48-35" aria-hidden="true" tabindex="-1"></a><span class="fu">greet_alice</span>()  <span class="do">## Output: "Hello, Alice!"</span></span>
<span id="cb48-36"><a href="#cb48-36" aria-hidden="true" tabindex="-1"></a><span class="fu">greet_bob</span>()    <span class="do">## Output: "Hello, Bob!"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="transcript-4" class="level3" data-number="20.5.3">
<h3 data-number="20.5.3" class="anchored" data-anchor-id="transcript-4"><span class="header-section-number">20.5.3</span> Transcript</h3>
<p><strong>User:</strong> Hey R-Bot, I’ve heard about closures in R but don’t quite get what they are. Can you explain?</p>
<p><strong>R-Bot:</strong> Absolutely! A closure in R is essentially a function along with the environment in which it was created. This means the function "remembers" the variables and objects that were around when it was defined. Closures are very powerful because they allow functions to access and manipulate their own environments.</p>
<p><strong>User:</strong> Okay, but how does that work? Can you show me a simple example?</p>
<p><strong>R-Bot:</strong> Let’s start with a basic example. Imagine you want a function that keeps track of how many times it has been called. Here’s how you could write it:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>counter <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  count <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">function</span>() {</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>    count <span class="ot">&lt;&lt;-</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>    count</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>When you run this code, the counter function creates a new environment with a count variable set to 0. Then it returns an inner function that increments and returns count. The &lt;&lt;- operator allows the inner function to modify count in its parent environment.</p>
<p><strong>User:</strong> Interesting! How do I use this?</p>
<p><strong>R-Bot:</strong> Let’s create and use a counter:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>my_counter <span class="ot">&lt;-</span> <span class="fu">counter</span>()</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="fu">my_counter</span>()  <span class="do">## Output: 1</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="fu">my_counter</span>()  <span class="do">## Output: 2</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="fu">my_counter</span>()  <span class="do">## Output: 3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Each time you call my_counter, it increments the count variable. Notice how the inner function "remembers" the count variable even though it’s not directly passed as an argument.</p>
<p><strong>User:</strong> So, the count variable isn’t reset every time?</p>
<p><strong>R-Bot:</strong> Exactly! The count variable lives in the environment created by counter. That’s what makes closures so powerful—they let you maintain state across function calls without using global variables.</p>
<p><strong>User:</strong> Can I create multiple counters?</p>
<p><strong>R-Bot:</strong> Of course! Each time you call counter(), it creates a new, independent environment. For example:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>counter1 <span class="ot">&lt;-</span> <span class="fu">counter</span>()</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>counter2 <span class="ot">&lt;-</span> <span class="fu">counter</span>()</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="fu">counter1</span>()  <span class="do">## Output: 1</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a><span class="fu">counter1</span>()  <span class="do">## Output: 2</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a><span class="fu">counter2</span>()  <span class="do">## Output: 1</span></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a><span class="fu">counter2</span>()  <span class="do">## Output: 2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Each counter tracks its own count variable.</p>
<p><strong>User:</strong> This is pretty cool. Are there other use cases for closures?</p>
<p><strong>R-Bot:</strong> Definitely! Closures are useful whenever you need a function to have its own environment or retain state. Here’s another example—a function that generates custom greeting functions:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>make_greeter <span class="ot">&lt;-</span> <span class="cf">function</span>(name) {</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">function</span>() {</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(<span class="st">"Hello,"</span>, name, <span class="st">"!"</span>)</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>greet_alice <span class="ot">&lt;-</span> <span class="fu">make_greeter</span>(<span class="st">"Alice"</span>)</span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>greet_bob <span class="ot">&lt;-</span> <span class="fu">make_greeter</span>(<span class="st">"Bob"</span>)</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a><span class="fu">greet_alice</span>()  <span class="do">## Output: "Hello, Alice!"</span></span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a><span class="fu">greet_bob</span>()    <span class="do">## Output: "Hello, Bob!"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Here, each greeter function "remembers" the name passed when it was created.</p>
<p><strong>User:</strong> Oh, I see! The name variable is stored in the function’s environment?</p>
<p><strong>R-Bot:</strong> That’s right! Each greeter function has its own environment, which includes the name variable. It’s like giving each function its own memory.</p>
<p><strong>User:</strong> Are there any pitfalls I should watch out for?</p>
<p><strong>R-Bot:</strong> Good question! A few things to keep in mind:</p>
<ol type="1">
<li><p><strong>Memory Usage:</strong> Closures can increase memory usage because the environments they create stay in memory as long as the function exists.</p></li>
<li><p><strong>Accidental Side Effects:</strong> Using &lt;&lt;- modifies variables in the parent environment, so be careful not to unintentionally change variables.</p></li>
<li><p><strong>Debugging:</strong> Understanding the scope of variables can get tricky when closures are involved. Tools like ls(environment(fun)) can help inspect a function’s environment.</p></li>
</ol>
<p><strong>User:</strong> Got it. Closures sound really powerful, though.</p>
<p><strong>R-Bot:</strong> They are! Closures give R a lot of its flexibility. Whether you’re building custom functions, maintaining state, or designing reusable code, closures can help you write cleaner and more efficient programs.</p>
<p><strong>User:</strong> Thanks, R-Bot! I think I’ll experiment with closures now.</p>
<p><strong>R-Bot:</strong> You’re welcome! Closures are a fantastic tool to master. Let me know if you need help with any specific examples. Happy coding!</p>
</section>
</section>
<section id="creating-and-using-environments-in-r" class="level2" data-number="20.6">
<h2 data-number="20.6" class="anchored" data-anchor-id="creating-and-using-environments-in-r"><span class="header-section-number">20.6</span> Creating and Using Environments in R</h2>
<section id="video-5" class="level3" data-number="20.6.1">
<h3 data-number="20.6.1" class="anchored" data-anchor-id="video-5"><span class="header-section-number">20.6.1</span> Video</h3>
<p>Link</p>
</section>
<section id="code-5" class="level3" data-number="20.6.2">
<h3 data-number="20.6.2" class="anchored" data-anchor-id="code-5"><span class="header-section-number">20.6.2</span> Code</h3>
<div class="sourceCode" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>my_env <span class="ot">&lt;-</span> <span class="fu">new.env</span>()</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>my_env<span class="sc">$</span>x <span class="ot">&lt;-</span> <span class="dv">42</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>my_env<span class="sc">$</span>y <span class="ot">&lt;-</span> <span class="st">"Hello"</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>my_env<span class="sc">$</span>x  <span class="do">## Output: 42</span></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>my_env<span class="sc">$</span>y  <span class="do">## Output: "Hello"</span></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>(<span class="at">envir =</span> my_env)  <span class="do">## Output: "x" "y"</span></span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>my_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">a =</span> <span class="dv">1</span>)</span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>my_env <span class="ot">&lt;-</span> <span class="fu">new.env</span>()</span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>my_env<span class="sc">$</span>a <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a>my_list<span class="sc">$</span>b <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a>my_env<span class="sc">$</span>b <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a>create_counter <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a>  env <span class="ot">&lt;-</span> <span class="fu">new.env</span>()</span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a>  env<span class="sc">$</span>count <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb53-21"><a href="#cb53-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb53-22"><a href="#cb53-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb53-23"><a href="#cb53-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">increment =</span> <span class="cf">function</span>() {</span>
<span id="cb53-24"><a href="#cb53-24" aria-hidden="true" tabindex="-1"></a>      env<span class="sc">$</span>count <span class="ot">&lt;-</span> env<span class="sc">$</span>count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb53-25"><a href="#cb53-25" aria-hidden="true" tabindex="-1"></a>      env<span class="sc">$</span>count</span>
<span id="cb53-26"><a href="#cb53-26" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb53-27"><a href="#cb53-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">get_count =</span> <span class="cf">function</span>() {</span>
<span id="cb53-28"><a href="#cb53-28" aria-hidden="true" tabindex="-1"></a>      env<span class="sc">$</span>count</span>
<span id="cb53-29"><a href="#cb53-29" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb53-30"><a href="#cb53-30" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb53-31"><a href="#cb53-31" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb53-32"><a href="#cb53-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-33"><a href="#cb53-33" aria-hidden="true" tabindex="-1"></a>counter <span class="ot">&lt;-</span> <span class="fu">create_counter</span>()</span>
<span id="cb53-34"><a href="#cb53-34" aria-hidden="true" tabindex="-1"></a>counter<span class="sc">$</span><span class="fu">increment</span>()  <span class="do">## Output: 1</span></span>
<span id="cb53-35"><a href="#cb53-35" aria-hidden="true" tabindex="-1"></a>counter<span class="sc">$</span><span class="fu">increment</span>()  <span class="do">## Output: 2</span></span>
<span id="cb53-36"><a href="#cb53-36" aria-hidden="true" tabindex="-1"></a>counter<span class="sc">$</span><span class="fu">get_count</span>()  <span class="do">## Output: 2</span></span>
<span id="cb53-37"><a href="#cb53-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-38"><a href="#cb53-38" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="st">"x"</span>, <span class="at">envir =</span> my_env)</span>
<span id="cb53-39"><a href="#cb53-39" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>(<span class="at">envir =</span> my_env)  <span class="do">## Output: "y"</span></span>
<span id="cb53-40"><a href="#cb53-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-41"><a href="#cb53-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-42"><a href="#cb53-42" aria-hidden="true" tabindex="-1"></a>parent_env <span class="ot">&lt;-</span> <span class="fu">new.env</span>()</span>
<span id="cb53-43"><a href="#cb53-43" aria-hidden="true" tabindex="-1"></a>parent_env<span class="sc">$</span>z <span class="ot">&lt;-</span> <span class="st">"I'm in the parent!"</span></span>
<span id="cb53-44"><a href="#cb53-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-45"><a href="#cb53-45" aria-hidden="true" tabindex="-1"></a>child_env <span class="ot">&lt;-</span> <span class="fu">new.env</span>(<span class="at">parent =</span> parent_env)</span>
<span id="cb53-46"><a href="#cb53-46" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>(<span class="at">envir =</span> child_env)  <span class="do">## Output: (empty)</span></span>
<span id="cb53-47"><a href="#cb53-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-48"><a href="#cb53-48" aria-hidden="true" tabindex="-1"></a>child_env<span class="sc">$</span>z  <span class="do">## Output: "I'm in the parent!"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="transcript-5" class="level3" data-number="20.6.3">
<h3 data-number="20.6.3" class="anchored" data-anchor-id="transcript-5"><span class="header-section-number">20.6.3</span> Transcript</h3>
<p><strong>User:</strong> Hey R-Bot, I’ve heard about environments in R. Can you explain what they are and how to use them?</p>
<p><strong>R-Bot:</strong> Of course! Environments in R are like containers or spaces where objects (variables, functions, etc.) are stored. Every R session has a global environment (what you interact with by default), and functions create their own environments when they are called. Environments are particularly powerful for managing scope and organizing code.</p>
<p><strong>User:</strong> How are environments different from other objects in R?</p>
<p><strong>R-Bot:</strong> Excellent question! Most R objects, like vectors, data frames, and lists, follow <strong>copy-on-modify</strong> behavior. This means that when you modify an object, R typically creates a copy of it to preserve the original.</p>
<p>Environments, however, do <strong>not</strong> follow copy-on-modify. When you make changes to an environment, you modify it directly. This makes environments efficient for managing shared states or large objects because no unnecessary copying occurs.</p>
<p><strong>User:</strong> Can you show me how to create and use an environment?</p>
<p><strong>R-Bot:</strong> Certainly! Here’s how you can create an environment:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>my_env <span class="ot">&lt;-</span> <span class="fu">new.env</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now, you can add objects to it:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>my_env<span class="sc">$</span>x <span class="ot">&lt;-</span> <span class="dv">42</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>my_env<span class="sc">$</span>y <span class="ot">&lt;-</span> <span class="st">"Hello"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can access objects just like in a list:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>my_env<span class="sc">$</span>x  <span class="do">## Output: 42</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>my_env<span class="sc">$</span>y  <span class="do">## Output: "Hello"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can also check the structure of an environment using ls():</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>(<span class="at">envir =</span> my_env)  <span class="do">## Output: "x" "y"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> So, changes to my_env don’t create a copy?</p>
<p><strong>R-Bot:</strong> Exactly! Let’s compare environments to a regular list to see the difference:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>my_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">a =</span> <span class="dv">1</span>)</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>my_env <span class="ot">&lt;-</span> <span class="fu">new.env</span>()</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>my_env<span class="sc">$</span>a <span class="ot">&lt;-</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If you modify my_list, R creates a new copy:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>my_list<span class="sc">$</span>b <span class="ot">&lt;-</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>But for my_env, no copying occurs:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>my_env<span class="sc">$</span>b <span class="ot">&lt;-</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The environment is updated directly in place. This makes environments useful when managing shared or large objects, as they avoid the overhead of copying.</p>
<p><strong>User:</strong> Can I use environments to share variables between functions?</p>
<p><strong>R-Bot:</strong> Absolutely! Environments are great for that. Let’s look at an example where two functions share state using an environment:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>create_counter <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  env <span class="ot">&lt;-</span> <span class="fu">new.env</span>()</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  env<span class="sc">$</span>count <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">increment =</span> <span class="cf">function</span>() {</span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>      env<span class="sc">$</span>count <span class="ot">&lt;-</span> env<span class="sc">$</span>count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>      env<span class="sc">$</span>count</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">get_count =</span> <span class="cf">function</span>() {</span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a>      env<span class="sc">$</span>count</span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb61-14"><a href="#cb61-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb61-15"><a href="#cb61-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-16"><a href="#cb61-16" aria-hidden="true" tabindex="-1"></a>counter <span class="ot">&lt;-</span> <span class="fu">create_counter</span>()</span>
<span id="cb61-17"><a href="#cb61-17" aria-hidden="true" tabindex="-1"></a>counter<span class="sc">$</span><span class="fu">increment</span>()  <span class="do">## Output: 1</span></span>
<span id="cb61-18"><a href="#cb61-18" aria-hidden="true" tabindex="-1"></a>counter<span class="sc">$</span><span class="fu">increment</span>()  <span class="do">## Output: 2</span></span>
<span id="cb61-19"><a href="#cb61-19" aria-hidden="true" tabindex="-1"></a>counter<span class="sc">$</span><span class="fu">get_count</span>()  <span class="do">## Output: 2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Here, the increment and get_count functions share the same environment. They both modify or read the count variable stored in env.</p>
<p><strong>User:</strong> That’s cool! How do I delete objects from an environment?</p>
<p><strong>R-Bot:</strong> You can use the rm() function to remove objects:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="st">"x"</span>, <span class="at">envir =</span> my_env)</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>(<span class="at">envir =</span> my_env)  <span class="do">## Output: "y"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If you want to clear the entire environment, you can use rm(list = ls(envir = my_env), envir = my_env).</p>
<p><strong>User:</strong> Can I chain environments, like have one environment use another as a parent?</p>
<p><strong>R-Bot:</strong> Yes! Environments have a parent-child structure. When you look for an object in an environment, R will check the parent environment if the object isn’t found. You can set a parent explicitly when creating an environment:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>parent_env <span class="ot">&lt;-</span> <span class="fu">new.env</span>()</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>parent_env<span class="sc">$</span>z <span class="ot">&lt;-</span> <span class="st">"I'm in the parent!"</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>child_env <span class="ot">&lt;-</span> <span class="fu">new.env</span>(<span class="at">parent =</span> parent_env)</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>(<span class="at">envir =</span> child_env)  <span class="do">## Output: (empty)</span></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>child_env<span class="sc">$</span>z  <span class="do">## Output: "I'm in the parent!"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Here, child_env can access z from parent_env because of the parent-child relationship.</p>
<p><strong>User:</strong> When should I use environments instead of lists?</p>
<p><strong>R-Bot:</strong> Environments are best used when:</p>
<ol type="1">
<li><p><strong>State Management:</strong> You need a mutable state shared between functions (like a counter).</p></li>
<li><p><strong>Performance:</strong> You’re working with large objects and want to avoid copy-on-modify overhead.</p></li>
<li><p><strong>Scoping:</strong> You want to organize code with custom namespaces or control object visibility.</p></li>
</ol>
<p>If you only need a simple, immutable container for data, a list is usually sufficient.</p>
<p><strong>User:</strong> Thanks, R-Bot! I feel like I understand environments much better now.</p>
<p><strong>R-Bot:</strong> You’re welcome! Environments are a powerful tool once you get the hang of them. Let me know if you’d like more examples or have specific use cases to explore. Happy coding!</p>
</section>
</section>
<section id="handling-errors-warnings-and-output-in-r" class="level2" data-number="20.7">
<h2 data-number="20.7" class="anchored" data-anchor-id="handling-errors-warnings-and-output-in-r"><span class="header-section-number">20.7</span> Handling Errors, Warnings, and Output in R</h2>
<section id="video-6" class="level3" data-number="20.7.1">
<h3 data-number="20.7.1" class="anchored" data-anchor-id="video-6"><span class="header-section-number">20.7.1</span> Video</h3>
<p>Link</p>
</section>
<section id="code-6" class="level3" data-number="20.7.2">
<h3 data-number="20.7.2" class="anchored" data-anchor-id="code-6"><span class="header-section-number">20.7.2</span> Code</h3>
<div class="sourceCode" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">try</span>(<span class="fu">log</span>(<span class="st">"a"</span>))</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">inherits</span>(result, <span class="st">"try-error"</span>)) {</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"Oops, an error occurred!"</span>)</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a><span class="fu">tryCatch</span>({</span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log</span>(<span class="st">"a"</span>)</span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>}, <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Caught an error:"</span>, e<span class="sc">$</span>message))</span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">error =</span> <span class="fu">quote</span>(<span class="fu">warning</span>(<span class="st">"Converted error to warning!"</span>)))</span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-14"><a href="#cb64-14" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressWarnings</span>(<span class="fu">log</span>(<span class="sc">-</span><span class="dv">1</span>))  <span class="do">## No warning is displayed</span></span>
<span id="cb64-15"><a href="#cb64-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-16"><a href="#cb64-16" aria-hidden="true" tabindex="-1"></a><span class="fu">tryCatch</span>({</span>
<span id="cb64-17"><a href="#cb64-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log</span>(<span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb64-18"><a href="#cb64-18" aria-hidden="true" tabindex="-1"></a>}, <span class="at">warning =</span> <span class="cf">function</span>(w) {</span>
<span id="cb64-19"><a href="#cb64-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Caught a warning:"</span>, w<span class="sc">$</span>message))</span>
<span id="cb64-20"><a href="#cb64-20" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb64-21"><a href="#cb64-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-22"><a href="#cb64-22" aria-hidden="true" tabindex="-1"></a><span class="fu">invisible</span>(<span class="fu">print</span>(<span class="st">"This won't be printed to the console."</span>))</span>
<span id="cb64-23"><a href="#cb64-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-24"><a href="#cb64-24" aria-hidden="true" tabindex="-1"></a><span class="fu">capture.output</span>(<span class="fu">cat</span>(<span class="st">"This is suppressed"</span>), <span class="at">file =</span> <span class="cn">NULL</span>)</span>
<span id="cb64-25"><a href="#cb64-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-26"><a href="#cb64-26" aria-hidden="true" tabindex="-1"></a><span class="fu">sink</span>(<span class="st">"output.txt"</span>)</span>
<span id="cb64-27"><a href="#cb64-27" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"This will be written to the file."</span>)</span>
<span id="cb64-28"><a href="#cb64-28" aria-hidden="true" tabindex="-1"></a><span class="fu">sink</span>()  <span class="do">## Turn off sinking</span></span>
<span id="cb64-29"><a href="#cb64-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-30"><a href="#cb64-30" aria-hidden="true" tabindex="-1"></a>output <span class="ot">&lt;-</span> <span class="fu">capture.output</span>(<span class="fu">summary</span>(cars))</span>
<span id="cb64-31"><a href="#cb64-31" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(output)  <span class="do">## The output is now stored in a character vector</span></span>
<span id="cb64-32"><a href="#cb64-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-33"><a href="#cb64-33" aria-hidden="true" tabindex="-1"></a>warnings <span class="ot">&lt;-</span> <span class="fu">capture.output</span>(<span class="fu">log</span>(<span class="sc">-</span><span class="dv">1</span>), <span class="at">type =</span> <span class="st">"message"</span>)</span>
<span id="cb64-34"><a href="#cb64-34" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(warnings)</span>
<span id="cb64-35"><a href="#cb64-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-36"><a href="#cb64-36" aria-hidden="true" tabindex="-1"></a><span class="fu">sink</span>(<span class="st">"log.txt"</span>)  <span class="do">## Redirect output to a file</span></span>
<span id="cb64-37"><a href="#cb64-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-38"><a href="#cb64-38" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">tryCatch</span>({</span>
<span id="cb64-39"><a href="#cb64-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">warning</span>(<span class="st">"This is a warning!"</span>)</span>
<span id="cb64-40"><a href="#cb64-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log</span>(<span class="st">"a"</span>)</span>
<span id="cb64-41"><a href="#cb64-41" aria-hidden="true" tabindex="-1"></a>}, <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb64-42"><a href="#cb64-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"Error:"</span>, e<span class="sc">$</span>message, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb64-43"><a href="#cb64-43" aria-hidden="true" tabindex="-1"></a>}, <span class="at">warning =</span> <span class="cf">function</span>(w) {</span>
<span id="cb64-44"><a href="#cb64-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"Warning:"</span>, w<span class="sc">$</span>message, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb64-45"><a href="#cb64-45" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb64-46"><a href="#cb64-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-47"><a href="#cb64-47" aria-hidden="true" tabindex="-1"></a><span class="fu">sink</span>()  <span class="do">## Restore console output</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="transcript-6" class="level3" data-number="20.7.3">
<h3 data-number="20.7.3" class="anchored" data-anchor-id="transcript-6"><span class="header-section-number">20.7.3</span> Transcript</h3>
<p><strong>User:</strong> Hey R-Bot, I’ve been working on some R scripts, and I want to get better at managing errors, warnings, and output. Can you help me out?</p>
<p><strong>R-Bot:</strong> Absolutely! Handling errors, warnings, and output effectively can make debugging and logging much easier. Let’s break this into sections and tackle each one systematically.</p>
<section id="errors" class="level4" data-number="20.7.3.1">
<h4 data-number="20.7.3.1" class="anchored" data-anchor-id="errors"><span class="header-section-number">20.7.3.1</span> <strong>Errors</strong></h4>
<p><strong>User:</strong> Let’s start with errors. How do I handle them?</p>
<p><strong>R-Bot:</strong> Errors occur when R encounters something it can’t process, and the execution stops. You can handle errors with the try(), tryCatch(), or by setting global options.</p>
<p>Here’s how to use try() to catch errors and continue:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">try</span>(<span class="fu">log</span>(<span class="st">"a"</span>))</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">inherits</span>(result, <span class="st">"try-error"</span>)) {</span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"Oops, an error occurred!"</span>)</span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>For more control, use tryCatch():</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tryCatch</span>({</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log</span>(<span class="st">"a"</span>)</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>}, <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Caught an error:"</span>, e<span class="sc">$</span>message))</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can even set global options to turn errors into warnings for debugging:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">error =</span> <span class="fu">quote</span>(<span class="fu">warning</span>(<span class="st">"Converted error to warning!"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="warnings" class="level4" data-number="20.7.3.2">
<h4 data-number="20.7.3.2" class="anchored" data-anchor-id="warnings"><span class="header-section-number">20.7.3.2</span> Warnings</h4>
<p><strong>User:</strong> What about warnings? They don’t stop execution, right?</p>
<p><strong>R-Bot:</strong> Correct! Warnings alert you to potential issues but don’t stop execution. You can suppress them temporarily or capture them for analysis.</p>
<p>To suppress warnings, use suppressWarnings():</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressWarnings</span>(<span class="fu">log</span>(<span class="sc">-</span><span class="dv">1</span>))  <span class="do">## No warning is displayed</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To capture warnings, use tryCatch() with a warning handler:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tryCatch</span>({</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log</span>(<span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>}, <span class="at">warning =</span> <span class="cf">function</span>(w) {</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Caught a warning:"</span>, w<span class="sc">$</span>message))</span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="output-suppression" class="level4" data-number="20.7.3.3">
<h4 data-number="20.7.3.3" class="anchored" data-anchor-id="output-suppression"><span class="header-section-number">20.7.3.3</span> Output Suppression</h4>
<p><strong>User:</strong> How can I suppress regular output?</p>
<p><strong>R-Bot:</strong> If you want to suppress output, use invisible() or direct the output to NULL.</p>
<p>Here’s an example with invisible():</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">invisible</span>(<span class="fu">print</span>(<span class="st">"This won't be printed to the console."</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To suppress output from a function, use capture.output() with a file = NULL argument:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">capture.output</span>(<span class="fu">cat</span>(<span class="st">"This is suppressed"</span>), <span class="at">file =</span> <span class="cn">NULL</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="sinking-output-to-a-file" class="level4" data-number="20.7.3.4">
<h4 data-number="20.7.3.4" class="anchored" data-anchor-id="sinking-output-to-a-file"><span class="header-section-number">20.7.3.4</span> Sinking Output to a File</h4>
<p><strong>User:</strong> What if I want to save the output instead of suppressing it?</p>
<p><strong>R-Bot:</strong> For that, you can use sink() to redirect output to a file. Here’s an example:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sink</span>(<span class="st">"output.txt"</span>)</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"This will be written to the file."</span>)</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sink</span>()  <span class="do">## Turn off sinking</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Remember to always call sink() again to restore the default console output.</p>
</section>
<section id="capturing-output-to-an-object" class="level4" data-number="20.7.3.5">
<h4 data-number="20.7.3.5" class="anchored" data-anchor-id="capturing-output-to-an-object"><span class="header-section-number">20.7.3.5</span> Capturing Output to an Object</h4>
<p><strong>User:</strong> What if I want to save the output into an object instead of a file?</p>
<p><strong>R-Bot:</strong> Use capture.output() to capture printed output into a character vector:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>output <span class="ot">&lt;-</span> <span class="fu">capture.output</span>(<span class="fu">summary</span>(cars))</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(output)  <span class="do">## The output is now stored in a character vector</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>For warnings and messages, use capture.output() with the type argument:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>warnings <span class="ot">&lt;-</span> <span class="fu">capture.output</span>(<span class="fu">log</span>(<span class="sc">-</span><span class="dv">1</span>), <span class="at">type =</span> <span class="st">"message"</span>)</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(warnings)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="combining-it-all" class="level4" data-number="20.7.3.6">
<h4 data-number="20.7.3.6" class="anchored" data-anchor-id="combining-it-all"><span class="header-section-number">20.7.3.6</span> Combining It All</h4>
<p><strong>User:</strong> Can I combine these techniques?</p>
<p><strong>R-Bot:</strong> Absolutely! Here’s an example that handles errors, warnings, and output in one script:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sink</span>(<span class="st">"log.txt"</span>)  <span class="do">## Redirect output to a file</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">tryCatch</span>({</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">warning</span>(<span class="st">"This is a warning!"</span>)</span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log</span>(<span class="st">"a"</span>)</span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>}, <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"Error:"</span>, e<span class="sc">$</span>message, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a>}, <span class="at">warning =</span> <span class="cf">function</span>(w) {</span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"Warning:"</span>, w<span class="sc">$</span>message, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-12"><a href="#cb75-12" aria-hidden="true" tabindex="-1"></a><span class="fu">sink</span>()  <span class="do">## Restore console output</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now, both the output and any errors or warnings are logged to log.txt.</p>
<p><strong>User:</strong> This is really helpful! I feel like I have a better grasp of managing errors, warnings, and output.</p>
<p><strong>R-Bot:</strong> That’s great to hear! Mastering these techniques will make your code more robust and easier to debug. Let me know if you want to explore other related topics!</p>
</section>
</section>
</section>
<section id="working-with-global-options-in-r" class="level2" data-number="20.8">
<h2 data-number="20.8" class="anchored" data-anchor-id="working-with-global-options-in-r"><span class="header-section-number">20.8</span> Working with Global Options in R</h2>
<section id="video-7" class="level3" data-number="20.8.1">
<h3 data-number="20.8.1" class="anchored" data-anchor-id="video-7"><span class="header-section-number">20.8.1</span> Video</h3>
<p>Link</p>
</section>
<section id="code-7" class="level3" data-number="20.8.2">
<h3 data-number="20.8.2" class="anchored" data-anchor-id="code-7"><span class="header-section-number">20.8.2</span> Code</h3>
<div class="sourceCode" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getOption</span>(<span class="st">"digits"</span>)</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>()</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>()[<span class="fu">c</span>(<span class="st">"digits"</span>, <span class="st">"scipen"</span>, <span class="st">"stringsAsFactors"</span>)]</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">digits =</span> <span class="dv">10</span>)</span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">digits =</span> <span class="dv">5</span>)</span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>)  <span class="do">## Avoid scientific notation</span></span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">warn =</span> <span class="dv">1</span>)</span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">width =</span> <span class="dv">80</span>)</span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(<span class="fu">options</span>(<span class="at">digits =</span> <span class="dv">12</span>), <span class="fu">print</span>(pi))  <span class="do">## Only affects this print</span></span>
<span id="cb76-12"><a href="#cb76-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-13"><a href="#cb76-13" aria-hidden="true" tabindex="-1"></a>old_options <span class="ot">&lt;-</span> <span class="fu">options</span>(<span class="at">digits =</span> <span class="dv">12</span>)</span>
<span id="cb76-14"><a href="#cb76-14" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(pi)  <span class="do">## Uses the temporary setting</span></span>
<span id="cb76-15"><a href="#cb76-15" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(old_options)  <span class="do">## Restore original options</span></span>
<span id="cb76-16"><a href="#cb76-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-17"><a href="#cb76-17" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(old_options)</span>
<span id="cb76-18"><a href="#cb76-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-19"><a href="#cb76-19" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">warn =</span> <span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb76-20"><a href="#cb76-20" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">digits =</span> <span class="dv">8</span>, <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="transcript-7" class="level3" data-number="20.8.3">
<h3 data-number="20.8.3" class="anchored" data-anchor-id="transcript-7"><span class="header-section-number">20.8.3</span> Transcript</h3>
<p><strong>User:</strong> Hey R-Bot, I’ve heard about setting global options in R. What are they, and how do I use them?</p>
<p><strong>R-Bot:</strong> Great question! Global options in R are settings that affect how R behaves during your session. You can control things like default printing behavior, warnings, or even the number of digits displayed. Let me show you how to work with them.</p>
<section id="getting-global-options" class="level4" data-number="20.8.3.1">
<h4 data-number="20.8.3.1" class="anchored" data-anchor-id="getting-global-options"><span class="header-section-number">20.8.3.1</span> Getting Global Options</h4>
<p><strong>User:</strong> How do I check the current options?</p>
<p><strong>R-Bot:</strong> Use the getOption() function to retrieve a specific option, or options() to see all current options.</p>
<p>For example, to check the number of digits R displays:</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getOption</span>(<span class="st">"digits"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Or, to see all options (though this can be overwhelming):</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If you want a neat list of just a few options, you can filter them:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>()[<span class="fu">c</span>(<span class="st">"digits"</span>, <span class="st">"scipen"</span>, <span class="st">"stringsAsFactors"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="setting-global-options" class="level4" data-number="20.8.3.2">
<h4 data-number="20.8.3.2" class="anchored" data-anchor-id="setting-global-options"><span class="header-section-number">20.8.3.2</span> Setting Global Options</h4>
<p><strong>User:</strong> Okay, so how do I change these options?</p>
<p><strong>R-Bot:</strong> You use the options() function. For instance, let’s say you want to change the number of digits R displays:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">digits =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>After running this, any numbers you print will show up to 10 digits by default.</p>
</section>
<section id="common-options-to-know" class="level4" data-number="20.8.3.3">
<h4 data-number="20.8.3.3" class="anchored" data-anchor-id="common-options-to-know"><span class="header-section-number">20.8.3.3</span> Common Options to Know</h4>
<p><strong>User:</strong> Are there specific options I should know about?</p>
<p><strong>R-Bot:</strong> Absolutely! Here are some commonly used options:</p>
<p><strong>digits</strong>: Controls how many digits are printed when showing numbers.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">digits =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>scipen</strong>: Adjusts scientific notation. Higher values reduce the use of scientific notation.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>)  <span class="do">## Avoid scientific notation</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>stringsAsFactors</strong>: Determines if strings are converted to factors in data frames.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>warn</strong>: Controls the level of warnings:</p>
<ul>
<li><p>-1: Suppress warnings</p></li>
<li><p>0: Default behavior</p></li>
<li><p>1: Immediately show warnings</p></li>
</ul>
<div class="sourceCode" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">warn =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>width</strong>: Adjusts the width of printed output.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">width =</span> <span class="dv">80</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="temporarily-setting-options" class="level4" data-number="20.8.3.4">
<h4 data-number="20.8.3.4" class="anchored" data-anchor-id="temporarily-setting-options"><span class="header-section-number">20.8.3.4</span> Temporarily Setting Options</h4>
<p><strong>User:</strong> What if I only want to change an option temporarily?</p>
<p><strong>R-Bot:</strong> Great question! You can temporarily set options using with() or local():</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(<span class="fu">options</span>(<span class="at">digits =</span> <span class="dv">12</span>), <span class="fu">print</span>(pi))  <span class="do">## Only affects this print</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Or, to reset after a block of code, you can save and restore the options manually:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>old_options <span class="ot">&lt;-</span> <span class="fu">options</span>(<span class="at">digits =</span> <span class="dv">12</span>)</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(pi)  <span class="do">## Uses the temporary setting</span></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(old_options)  <span class="do">## Restore original options</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="resetting-options" class="level4" data-number="20.8.3.5">
<h4 data-number="20.8.3.5" class="anchored" data-anchor-id="resetting-options"><span class="header-section-number">20.8.3.5</span> Resetting Options</h4>
<p><strong>User:</strong> What if I mess something up? Can I reset the options?</p>
<p><strong>R-Bot:</strong> You can reset options to their defaults by restarting your R session. Alternatively, if you saved the original options earlier, you can restore them using:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(old_options)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="use-case-suppressing-messages" class="level4" data-number="20.8.3.6">
<h4 data-number="20.8.3.6" class="anchored" data-anchor-id="use-case-suppressing-messages"><span class="header-section-number">20.8.3.6</span> Use Case: Suppressing Messages</h4>
<p><strong>User:</strong> Can I use options to suppress messages or warnings?</p>
<p><strong>R-Bot:</strong> Absolutely! For example, to suppress warnings globally, you can set:</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">warn =</span> <span class="sc">-</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>However, it’s generally better to handle these on a case-by-case basis using:</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressWarnings</span>() <span class="do">## or </span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressMessages</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="best-practices" class="level4" data-number="20.8.3.7">
<h4 data-number="20.8.3.7" class="anchored" data-anchor-id="best-practices"><span class="header-section-number">20.8.3.7</span> Best Practices</h4>
<p><strong>User:</strong> Any tips for using options effectively?</p>
<p><strong>R-Bot:</strong> Sure! Here are some best practices:</p>
<p><strong>Set options in your script header:</strong> This ensures your settings are consistent.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">digits =</span> <span class="dv">8</span>, <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Avoid relying on global options in shared scripts:</strong> Explicitly pass arguments to functions to ensure compatibility across environments.</p>
<p><strong>Reset options after making temporary changes:</strong> This avoids unexpected behavior in subsequent code.</p>
<p><strong>User:</strong> Thanks, R-Bot! I feel like I have a much better understanding of how to manage options in R.</p>
<p><strong>R-Bot:</strong> You’re welcome! Let me know if you want to explore how options interact with specific packages or workflows. Happy coding!</p>
</section>
</section>
</section>
<section id="using-do.call-to-run-a-function-dynamically" class="level2" data-number="20.9">
<h2 data-number="20.9" class="anchored" data-anchor-id="using-do.call-to-run-a-function-dynamically"><span class="header-section-number">20.9</span> Using do.call to Run a Function Dynamically</h2>
<section id="video-8" class="level3" data-number="20.9.1">
<h3 data-number="20.9.1" class="anchored" data-anchor-id="video-8"><span class="header-section-number">20.9.1</span> Video</h3>
<p>Link</p>
</section>
<section id="code-8" class="level3" data-number="20.9.2">
<h3 data-number="20.9.2" class="anchored" data-anchor-id="code-8"><span class="header-section-number">20.9.2</span> Code</h3>
<div class="sourceCode" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">do.call</span>(function_name, args_list)</span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>args_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">do.call</span>(sum, args_list)</span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)  <span class="do">## Output: 55</span></span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">A =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">B =</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>])</span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">A =</span> <span class="dv">4</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">B =</span> letters[<span class="dv">4</span><span class="sc">:</span><span class="dv">6</span>])</span>
<span id="cb92-9"><a href="#cb92-9" aria-hidden="true" tabindex="-1"></a>df3 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">A =</span> <span class="dv">7</span><span class="sc">:</span><span class="dv">9</span>, <span class="at">B =</span> letters[<span class="dv">7</span><span class="sc">:</span><span class="dv">9</span>])</span>
<span id="cb92-10"><a href="#cb92-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-11"><a href="#cb92-11" aria-hidden="true" tabindex="-1"></a><span class="do">## Put the data frames into a list</span></span>
<span id="cb92-12"><a href="#cb92-12" aria-hidden="true" tabindex="-1"></a>df_list <span class="ot">&lt;-</span> <span class="fu">list</span>(df1, df2, df3)</span>
<span id="cb92-13"><a href="#cb92-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-14"><a href="#cb92-14" aria-hidden="true" tabindex="-1"></a><span class="do">## Use do.call with rbind</span></span>
<span id="cb92-15"><a href="#cb92-15" aria-hidden="true" tabindex="-1"></a>combined_df <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind, df_list)</span>
<span id="cb92-16"><a href="#cb92-16" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(combined_df)</span>
<span id="cb92-17"><a href="#cb92-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-18"><a href="#cb92-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-19"><a href="#cb92-19" aria-hidden="true" tabindex="-1"></a><span class="do">##  A B</span></span>
<span id="cb92-20"><a href="#cb92-20" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 1 a</span></span>
<span id="cb92-21"><a href="#cb92-21" aria-hidden="true" tabindex="-1"></a><span class="do">## 2 2 b</span></span>
<span id="cb92-22"><a href="#cb92-22" aria-hidden="true" tabindex="-1"></a><span class="do">## 3 3 c</span></span>
<span id="cb92-23"><a href="#cb92-23" aria-hidden="true" tabindex="-1"></a><span class="do">## 4 4 d</span></span>
<span id="cb92-24"><a href="#cb92-24" aria-hidden="true" tabindex="-1"></a><span class="do">## 5 5 e</span></span>
<span id="cb92-25"><a href="#cb92-25" aria-hidden="true" tabindex="-1"></a><span class="do">## 6 6 f</span></span>
<span id="cb92-26"><a href="#cb92-26" aria-hidden="true" tabindex="-1"></a><span class="do">## 7 7 g</span></span>
<span id="cb92-27"><a href="#cb92-27" aria-hidden="true" tabindex="-1"></a><span class="do">## 8 8 h</span></span>
<span id="cb92-28"><a href="#cb92-28" aria-hidden="true" tabindex="-1"></a><span class="do">## 9 9 i</span></span>
<span id="cb92-29"><a href="#cb92-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-30"><a href="#cb92-30" aria-hidden="true" tabindex="-1"></a><span class="do">## Define a list of arguments</span></span>
<span id="cb92-31"><a href="#cb92-31" aria-hidden="true" tabindex="-1"></a>args_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">10</span>, <span class="dv">20</span>)</span>
<span id="cb92-32"><a href="#cb92-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-33"><a href="#cb92-33" aria-hidden="true" tabindex="-1"></a><span class="do">## Choose the operation dynamically</span></span>
<span id="cb92-34"><a href="#cb92-34" aria-hidden="true" tabindex="-1"></a>operation <span class="ot">&lt;-</span> <span class="st">"+"</span>  <span class="do">## Could also be "*", "-", "/"</span></span>
<span id="cb92-35"><a href="#cb92-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-36"><a href="#cb92-36" aria-hidden="true" tabindex="-1"></a><span class="do">## Call the function dynamically</span></span>
<span id="cb92-37"><a href="#cb92-37" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">do.call</span>(operation, args_list)</span>
<span id="cb92-38"><a href="#cb92-38" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)  <span class="do">## Output: 30 for addition</span></span>
<span id="cb92-39"><a href="#cb92-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-40"><a href="#cb92-40" aria-hidden="true" tabindex="-1"></a>args_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">trim =</span> <span class="fl">0.2</span>)</span>
<span id="cb92-41"><a href="#cb92-41" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">do.call</span>(mean, args_list)</span>
<span id="cb92-42"><a href="#cb92-42" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)  <span class="do">## Output: trimmed mean</span></span>
<span id="cb92-43"><a href="#cb92-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-44"><a href="#cb92-44" aria-hidden="true" tabindex="-1"></a>set1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb92-45"><a href="#cb92-45" aria-hidden="true" tabindex="-1"></a>set2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>)</span>
<span id="cb92-46"><a href="#cb92-46" aria-hidden="true" tabindex="-1"></a>set3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>)</span>
<span id="cb92-47"><a href="#cb92-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-48"><a href="#cb92-48" aria-hidden="true" tabindex="-1"></a><span class="do">## Put the sets in a list</span></span>
<span id="cb92-49"><a href="#cb92-49" aria-hidden="true" tabindex="-1"></a>set_list <span class="ot">&lt;-</span> <span class="fu">list</span>(set1, set2, set3)</span>
<span id="cb92-50"><a href="#cb92-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-51"><a href="#cb92-51" aria-hidden="true" tabindex="-1"></a><span class="do">## Find the intersection</span></span>
<span id="cb92-52"><a href="#cb92-52" aria-hidden="true" tabindex="-1"></a>common_elements <span class="ot">&lt;-</span> <span class="fu">do.call</span>(intersect, set_list)</span>
<span id="cb92-53"><a href="#cb92-53" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(common_elements)  <span class="do">## Output: 4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="transcript-8" class="level3" data-number="20.9.3">
<h3 data-number="20.9.3" class="anchored" data-anchor-id="transcript-8"><span class="header-section-number">20.9.3</span> Transcript</h3>
<p><strong>User:</strong> Hey, R-Bot! I’ve heard about this do.call function, but I’m not sure what it’s for. Can you explain it?</p>
<p><strong>R-Bot:</strong> Of course! do.call is a really powerful function in R. It allows you to call a function dynamically using a list of arguments. This is particularly useful when you have parameters in a list and need to pass them to a function. Let’s dive in with an example!</p>
<section id="basic-syntax-of-do.call" class="level4" data-number="20.9.3.1">
<h4 data-number="20.9.3.1" class="anchored" data-anchor-id="basic-syntax-of-do.call"><span class="header-section-number">20.9.3.1</span> Basic Syntax of do.call</h4>
<p><strong>R-Bot:</strong> The syntax for do.call looks like this:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">do.call</span>(function_name, args_list)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>what is the function you want to call.</p></li>
<li><p>args is a list containing the arguments for that function.</p></li>
</ul>
<p>Here’s a simple example:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>args_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">do.call</span>(sum, args_list)</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)  <span class="do">## Output: 55</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In this case, do.call dynamically calls the sum function with x = 1:10 and na.rm = TRUE.</p>
</section>
<section id="combining-data-frames-with-do.call" class="level4" data-number="20.9.3.2">
<h4 data-number="20.9.3.2" class="anchored" data-anchor-id="combining-data-frames-with-do.call"><span class="header-section-number">20.9.3.2</span> Combining Data Frames with do.call</h4>
<p><strong>User:</strong> That’s cool! Can it work with data frames too?</p>
<p><strong>R-Bot:</strong> Absolutely! One of the most common use cases for do.call is combining data frames. Suppose you have a list of data frames, and you want to combine them row-wise. Instead of manually specifying each data frame, you can use do.call with rbind.</p>
<p>Here’s an example:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">A =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">B =</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>])</span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">A =</span> <span class="dv">4</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">B =</span> letters[<span class="dv">4</span><span class="sc">:</span><span class="dv">6</span>])</span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>df3 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">A =</span> <span class="dv">7</span><span class="sc">:</span><span class="dv">9</span>, <span class="at">B =</span> letters[<span class="dv">7</span><span class="sc">:</span><span class="dv">9</span>])</span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a><span class="do">## Put the data frames into a list</span></span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a>df_list <span class="ot">&lt;-</span> <span class="fu">list</span>(df1, df2, df3)</span>
<span id="cb95-7"><a href="#cb95-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-8"><a href="#cb95-8" aria-hidden="true" tabindex="-1"></a><span class="do">## Use do.call with rbind</span></span>
<span id="cb95-9"><a href="#cb95-9" aria-hidden="true" tabindex="-1"></a>combined_df <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind, df_list)</span>
<span id="cb95-10"><a href="#cb95-10" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(combined_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="do">##  A B</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 1 a</span></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a><span class="do">## 2 2 b</span></span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a><span class="do">## 3 3 c</span></span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a><span class="do">## 4 4 d</span></span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 5 5 e</span></span>
<span id="cb96-7"><a href="#cb96-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 6 6 f</span></span>
<span id="cb96-8"><a href="#cb96-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 7 7 g</span></span>
<span id="cb96-9"><a href="#cb96-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 8 8 h</span></span>
<span id="cb96-10"><a href="#cb96-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 9 9 i</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> Wow, that’s super useful! It saved a lot of manual typing.</p>
</section>
<section id="running-any-function-dynamically" class="level4" data-number="20.9.3.3">
<h4 data-number="20.9.3.3" class="anchored" data-anchor-id="running-any-function-dynamically"><span class="header-section-number">20.9.3.3</span> Running Any Function Dynamically</h4>
<p><strong>User:</strong> Can I use do.call for other functions too?</p>
<p><strong>R-Bot:</strong> Absolutely. Let’s say you want to run a function based on user input. For example, suppose you have two numbers, and you let the user choose an operation like addition or multiplication:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Define a list of arguments</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>args_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">10</span>, <span class="dv">20</span>)</span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Choose the operation dynamically</span></span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>operation <span class="ot">&lt;-</span> <span class="st">"+"</span>  <span class="do">## Could also be "*", "-", "/"</span></span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a><span class="do">## Call the function dynamically</span></span>
<span id="cb97-8"><a href="#cb97-8" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">do.call</span>(operation, args_list)</span>
<span id="cb97-9"><a href="#cb97-9" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)  <span class="do">## Output: 30 for addition</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> Wait, do.call works with operators too?</p>
<p><strong>R-Bot:</strong> Yes, because operators like + and * are actually functions in R. This approach works with any R function or operator!</p>
</section>
<section id="best-practices-with-do.call" class="level4" data-number="20.9.3.4">
<h4 data-number="20.9.3.4" class="anchored" data-anchor-id="best-practices-with-do.call"><span class="header-section-number">20.9.3.4</span> Best Practices with do.call</h4>
<p><strong>User:</strong> Are there any best practices I should follow?</p>
<p><strong>R-Bot:</strong> Definitely! Here are some tips:</p>
<p><strong>Ensure the argument list matches the function’s parameters:</strong> If you pass incorrect or extra arguments, you might encounter an error.</p>
<p><strong>Use named arguments when necessary:</strong> For example, when working with functions that have optional parameters, explicitly name them in the list:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>args_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">trim =</span> <span class="fl">0.2</span>)</span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">do.call</span>(mean, args_list)</span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)  <span class="do">## Output: trimmed mean</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Validate your input:</strong> If you’re generating the argument list programmatically, double-check its structure.</p>
<p><strong>Use it for dynamic workflows:</strong> do.call is excellent for automating tasks where the function and arguments aren’t hardcoded.</p>
</section>
<section id="advanced-use-case-applying-a-function-to-multiple-inputs" class="level4" data-number="20.9.3.5">
<h4 data-number="20.9.3.5" class="anchored" data-anchor-id="advanced-use-case-applying-a-function-to-multiple-inputs"><span class="header-section-number">20.9.3.5</span> Advanced Use Case: Applying a Function to Multiple Inputs</h4>
<p><strong>R-Bot:</strong> Let’s go one step further. You can use do.call to apply a function to multiple inputs. For example, say you want to calculate the intersection of several sets:</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>set1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>set2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>)</span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>set3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>)</span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a><span class="do">## Put the sets in a list</span></span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a>set_list <span class="ot">&lt;-</span> <span class="fu">list</span>(set1, set2, set3)</span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-8"><a href="#cb99-8" aria-hidden="true" tabindex="-1"></a><span class="do">## Find the intersection</span></span>
<span id="cb99-9"><a href="#cb99-9" aria-hidden="true" tabindex="-1"></a>common_elements <span class="ot">&lt;-</span> <span class="fu">do.call</span>(intersect, set_list)</span>
<span id="cb99-10"><a href="#cb99-10" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(common_elements)  <span class="do">## Output: 4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> That’s super handy! I can see this being useful for all kinds of operations.</p>
<p><strong>User:</strong> Thanks, R-Bot! This was really helpful. I feel like I can start using do.call in my own projects now.</p>
<p><strong>R-Bot:</strong> You’re welcome! do.call is a fantastic tool for dynamic programming in R. Let me know if you need help with any other functions. Happy coding!</p>
</section>
</section>
</section>
<section id="understanding-.last.value-in-r" class="level2" data-number="20.10">
<h2 data-number="20.10" class="anchored" data-anchor-id="understanding-.last.value-in-r"><span class="header-section-number">20.10</span> Understanding .Last.value in R</h2>
<section id="video-9" class="level3" data-number="20.10.1">
<h3 data-number="20.10.1" class="anchored" data-anchor-id="video-9"><span class="header-section-number">20.10.1</span> Video</h3>
<p>Link</p>
</section>
<section id="code-9" class="level3" data-number="20.10.2">
<h3 data-number="20.10.2" class="anchored" data-anchor-id="code-9"><span class="header-section-number">20.10.2</span> Code</h3>
<div class="sourceCode" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="sc">+</span> <span class="dv">5</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 8</span></span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>.Last.value</span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 8</span></span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="dv">144</span>)</span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 12</span></span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-10"><a href="#cb100-10" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> .Last.value</span>
<span id="cb100-11"><a href="#cb100-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)</span>
<span id="cb100-12"><a href="#cb100-12" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 12</span></span>
<span id="cb100-13"><a href="#cb100-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-14"><a href="#cb100-14" aria-hidden="true" tabindex="-1"></a><span class="fu">runif</span>(<span class="dv">1</span>, <span class="at">min =</span> <span class="dv">0</span>, <span class="at">max =</span> <span class="dv">100</span>)</span>
<span id="cb100-15"><a href="#cb100-15" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 42.73487</span></span>
<span id="cb100-16"><a href="#cb100-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-17"><a href="#cb100-17" aria-hidden="true" tabindex="-1"></a>my_random_number <span class="ot">&lt;-</span> .Last.value</span>
<span id="cb100-18"><a href="#cb100-18" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(my_random_number)</span>
<span id="cb100-19"><a href="#cb100-19" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 42.73487</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="transcript-9" class="level3" data-number="20.10.3">
<h3 data-number="20.10.3" class="anchored" data-anchor-id="transcript-9"><span class="header-section-number">20.10.3</span> Transcript</h3>
<p><strong>User:</strong> Hey, R-Bot, I saw something called .Last.value in R. What is that, and how do I use it?</p>
<p><strong>R-Bot:</strong> Great question! .Last.value is a built-in variable in R that automatically stores the result of the most recent expression you evaluated in the console. Think of it as a quick way to access the last thing you calculated without explicitly assigning it to a variable.</p>
<section id="basic-usage" class="level4" data-number="20.10.3.1">
<h4 data-number="20.10.3.1" class="anchored" data-anchor-id="basic-usage"><span class="header-section-number">20.10.3.1</span> Basic Usage</h4>
<p><strong>R-Bot:</strong> Let me show you how it works. Suppose you run this command:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="sc">+</span> <span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The output will be:</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 8</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now, without doing anything else, type .Last.value:</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>.Last.value</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The output will again be:</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 8</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> Oh, so it just keeps the result of the last thing I calculated?</p>
<p><strong>R-Bot:</strong> Exactly! It’s particularly useful when you forgot to assign the result of an operation to a variable, but you still want to use it.</p>
</section>
<section id="practical-example" class="level4" data-number="20.10.3.2">
<h4 data-number="20.10.3.2" class="anchored" data-anchor-id="practical-example"><span class="header-section-number">20.10.3.2</span> Practical Example</h4>
<p><strong>R-Bot:</strong> Let’s try a more practical example. Say you compute the square root of 144 but forget to assign it to a variable:</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="dv">144</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 12</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now, you can use .Last.value to store it or reuse it:</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> .Last.value</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 12</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> That’s handy! So, it’s like a safety net for my calculations.</p>
<p><strong>R-Bot:</strong> Exactly! But keep in mind that .Last.value only works in an interactive R session, like the R console or IDE, not in R scripts. It’s intended for quick, ad-hoc calculations.</p>
</section>
<section id="limitations-and-best-practices" class="level4" data-number="20.10.3.3">
<h4 data-number="20.10.3.3" class="anchored" data-anchor-id="limitations-and-best-practices"><span class="header-section-number">20.10.3.3</span> Limitations and Best Practices</h4>
<p><strong>User:</strong> Are there any limitations or things I should watch out for when using .Last.value?</p>
<p><strong>R-Bot:</strong> Definitely. Here are a few points to consider:</p>
<ol type="1">
<li><p><strong>Only the last evaluated expression:</strong> .Last.value updates every time you run a command. If you evaluate something else, the previous result is overwritten.</p></li>
<li><p><strong>Explicit assignments are safer:</strong> While .Last.value is useful, it’s always a good practice to assign important results to named variables. This makes your code more readable and reproducible.</p></li>
<li><p><strong>Works only in interactive mode:</strong> As I mentioned earlier, .Last.value doesn’t work in R scripts or functions. It’s strictly for interactive use.</p></li>
</ol>
</section>
<section id="a-fun-example" class="level4" data-number="20.10.3.4">
<h4 data-number="20.10.3.4" class="anchored" data-anchor-id="a-fun-example"><span class="header-section-number">20.10.3.4</span> A Fun Example</h4>
<p><strong>R-Bot:</strong> Let’s try something fun. Say you generate a random number but forget to save it:</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">runif</span>(<span class="dv">1</span>, <span class="at">min =</span> <span class="dv">0</span>, <span class="at">max =</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 42.73487</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now, you can grab .Last.value to use it elsewhere:</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>my_random_number <span class="ot">&lt;-</span> .Last.value</span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(my_random_number)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 42.73487</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> That’s pretty cool. I don’t have to rerun my code just to get the value again.</p>
<p><strong>User:</strong> Thanks, R-Bot! I feel like I understand .Last.value now. It’s a great tool for quick calculations.</p>
<p><strong>R-Bot:</strong> You’re welcome! Remember, .Last.value is your interactive session’s best friend for quick access to your last result. Let me know if you want to explore more features of R. Happy coding!</p>
</section>
</section>
</section>
<section id="understanding-with-attach-and-detach-in-r" class="level2" data-number="20.11">
<h2 data-number="20.11" class="anchored" data-anchor-id="understanding-with-attach-and-detach-in-r"><span class="header-section-number">20.11</span> Understanding with, attach, and detach in R</h2>
<section id="video-10" class="level3" data-number="20.11.1">
<h3 data-number="20.11.1" class="anchored" data-anchor-id="video-10"><span class="header-section-number">20.11.1</span> Video</h3>
<p>Link</p>
</section>
<section id="code-10" class="level3" data-number="20.11.2">
<h3 data-number="20.11.2" class="anchored" data-anchor-id="code-10"><span class="header-section-number">20.11.2</span> Code</h3>
<div class="sourceCode" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,</span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="dv">6</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb113-5"><a href="#cb113-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-6"><a href="#cb113-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(df<span class="sc">$</span>x <span class="sc">+</span> df<span class="sc">$</span>y)</span>
<span id="cb113-7"><a href="#cb113-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-8"><a href="#cb113-8" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(df, <span class="fu">sum</span>(x <span class="sc">+</span> y))</span>
<span id="cb113-9"><a href="#cb113-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-10"><a href="#cb113-10" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(df)</span>
<span id="cb113-11"><a href="#cb113-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-12"><a href="#cb113-12" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(x <span class="sc">+</span> y)</span>
<span id="cb113-13"><a href="#cb113-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-14"><a href="#cb113-14" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>x <span class="ot">&lt;-</span> <span class="dv">10</span><span class="sc">:</span><span class="dv">14</span>  <span class="do">## Modify the data frame</span></span>
<span id="cb113-15"><a href="#cb113-15" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(x)         <span class="do">## Still refers to the old 'x'</span></span>
<span id="cb113-16"><a href="#cb113-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-17"><a href="#cb113-17" aria-hidden="true" tabindex="-1"></a><span class="fu">detach</span>(df)</span>
<span id="cb113-18"><a href="#cb113-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-19"><a href="#cb113-19" aria-hidden="true" tabindex="-1"></a><span class="do">## Create a data frame</span></span>
<span id="cb113-20"><a href="#cb113-20" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">a =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">b =</span> <span class="dv">4</span><span class="sc">:</span><span class="dv">6</span>)</span>
<span id="cb113-21"><a href="#cb113-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-22"><a href="#cb113-22" aria-hidden="true" tabindex="-1"></a><span class="do">## Using 'with'</span></span>
<span id="cb113-23"><a href="#cb113-23" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">with</span>(df, a <span class="sc">+</span> b)</span>
<span id="cb113-24"><a href="#cb113-24" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)</span>
<span id="cb113-25"><a href="#cb113-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-26"><a href="#cb113-26" aria-hidden="true" tabindex="-1"></a><span class="do">## Using 'attach'</span></span>
<span id="cb113-27"><a href="#cb113-27" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(df)</span>
<span id="cb113-28"><a href="#cb113-28" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(a <span class="sc">+</span> b)</span>
<span id="cb113-29"><a href="#cb113-29" aria-hidden="true" tabindex="-1"></a><span class="fu">detach</span>(df)</span>
<span id="cb113-30"><a href="#cb113-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-31"><a href="#cb113-31" aria-hidden="true" tabindex="-1"></a><span class="do">## Explicit references (best practice in scripts)</span></span>
<span id="cb113-32"><a href="#cb113-32" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(df<span class="sc">$</span>a <span class="sc">+</span> df<span class="sc">$</span>b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="transcript-10" class="level3" data-number="20.11.3">
<h3 data-number="20.11.3" class="anchored" data-anchor-id="transcript-10"><span class="header-section-number">20.11.3</span> Transcript</h3>
<p><strong>User:</strong> Hey R-Bot, I keep seeing with, attach, and detach in R. What do they do, and when should I use them?</p>
<p><strong>R-Bot:</strong> Great question! These functions are all about simplifying how you work with data frames or lists, especially when you're repeatedly referencing columns. Let’s break them down one by one.</p>
<section id="the-with-function" class="level4" data-number="20.11.3.1">
<h4 data-number="20.11.3.1" class="anchored" data-anchor-id="the-with-function"><span class="header-section-number">20.11.3.1</span> The with Function</h4>
<p><strong>R-Bot:</strong> Let’s start with with. This function allows you to evaluate expressions within the context of a data frame or list. This means you don’t have to repeatedly write the data frame’s name when accessing its columns.</p>
<p>For example, let’s say you have this data frame:</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,</span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="dv">6</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb114-4"><a href="#cb114-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Normally, if you wanted to calculate the sum of x and y, you’d do this:</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(df<span class="sc">$</span>x <span class="sc">+</span> df<span class="sc">$</span>y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>With with, you can simplify it:</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(df, <span class="fu">sum</span>(x <span class="sc">+</span> y))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> Oh, so with is like a shortcut for writing less code?</p>
<p><strong>R-Bot:</strong> Exactly! It’s very clean and useful for temporary, read-only operations. But remember, with doesn’t modify the original data frame. It’s just a convenient way to evaluate expressions.</p>
</section>
<section id="the-attach-function" class="level4" data-number="20.11.3.2">
<h4 data-number="20.11.3.2" class="anchored" data-anchor-id="the-attach-function"><span class="header-section-number">20.11.3.2</span> The attach Function</h4>
<p><strong>R-Bot:</strong> Now let’s talk about attach. It temporarily adds a data frame or list to R’s search path. This means you can refer to the columns by their names directly, without using $.</p>
<p>Using the same data frame:</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now you can do:</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(x <span class="sc">+</span> y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> That seems even simpler. Why not always use attach then?</p>
<p><strong>R-Bot:</strong> Good question! While attach can make code look cleaner, it has some drawbacks. For example:</p>
<ol type="1">
<li><p><strong>Ambiguity:</strong> If you have objects in your global environment with the same names as the columns in the data frame, you could run into naming conflicts.</p></li>
<li><p><strong>Memory Issues:</strong> If you modify the data frame after attaching it, the changes won’t reflect in the attached version. This can lead to confusing bugs.</p></li>
</ol>
<p>For example:</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>x <span class="ot">&lt;-</span> <span class="dv">10</span><span class="sc">:</span><span class="dv">14</span>  <span class="do">## Modify the data frame</span></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(x)         <span class="do">## Still refers to the old 'x'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="the-detach-function" class="level4" data-number="20.11.3.3">
<h4 data-number="20.11.3.3" class="anchored" data-anchor-id="the-detach-function"><span class="header-section-number">20.11.3.3</span> The detach Function</h4>
<p><strong>R-Bot:</strong> To safely remove an attached data frame from the search path, you use detach. This ensures the column names no longer conflict with objects in your environment.</p>
<p>Here’s how it works:</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="fu">detach</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now, if you try to use x or y directly, R will throw an error unless those objects exist elsewhere in your environment.</p>
</section>
<section id="when-to-use-which" class="level4" data-number="20.11.3.4">
<h4 data-number="20.11.3.4" class="anchored" data-anchor-id="when-to-use-which"><span class="header-section-number">20.11.3.4</span> When to Use Which?</h4>
<p><strong>R-Bot:</strong> Let me summarize the best practices:</p>
<ol type="1">
<li><p><strong>Use with:</strong> When you want a clean, temporary way to work with a data frame. It’s safe because it doesn’t modify or attach anything.</p></li>
<li><p><strong>Use attach and detach:</strong> Only if you’re working interactively and want quick access to columns without repetitive typing. Just remember to detach when you’re done to avoid conflicts.</p></li>
<li><p><strong>Avoid attach in Scripts:</strong> In production code or scripts, it’s better to use explicit references like df$x. It’s more readable and avoids potential bugs.</p></li>
</ol>
</section>
<section id="example-combining-all-three" class="level4" data-number="20.11.3.5">
<h4 data-number="20.11.3.5" class="anchored" data-anchor-id="example-combining-all-three"><span class="header-section-number">20.11.3.5</span> Example Combining All Three</h4>
<p><strong>R-Bot:</strong> Here’s an example using all three:</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Create a data frame</span></span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">a =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">b =</span> <span class="dv">4</span><span class="sc">:</span><span class="dv">6</span>)</span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Using 'with'</span></span>
<span id="cb121-5"><a href="#cb121-5" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">with</span>(df, a <span class="sc">+</span> b)</span>
<span id="cb121-6"><a href="#cb121-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)</span>
<span id="cb121-7"><a href="#cb121-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-8"><a href="#cb121-8" aria-hidden="true" tabindex="-1"></a><span class="do">## Using 'attach'</span></span>
<span id="cb121-9"><a href="#cb121-9" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(df)</span>
<span id="cb121-10"><a href="#cb121-10" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(a <span class="sc">+</span> b)</span>
<span id="cb121-11"><a href="#cb121-11" aria-hidden="true" tabindex="-1"></a><span class="fu">detach</span>(df)</span>
<span id="cb121-12"><a href="#cb121-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-13"><a href="#cb121-13" aria-hidden="true" tabindex="-1"></a><span class="do">## Explicit references (best practice in scripts)</span></span>
<span id="cb121-14"><a href="#cb121-14" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(df<span class="sc">$</span>a <span class="sc">+</span> df<span class="sc">$</span>b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> That makes sense. So with is like a temporary helper, while attach changes the environment?</p>
<p><strong>R-Bot:</strong> Exactly! Use with for safety and clarity, and reserve attach for interactive exploration. If you’re ever unsure, stick with explicit references like df$x. It’s always the safest approach.</p>
<p><strong>User:</strong> Thanks, R-Bot! This clears up a lot. I’ll be cautious with attach and use with more often.</p>
<p><strong>R-Bot:</strong> You’re welcome! Let me know if you want to dive deeper into environments or other programming tips. Happy coding!</p>
</section>
</section>
</section>
<section id="subsetting-in-r-with-subset" class="level2" data-number="20.12">
<h2 data-number="20.12" class="anchored" data-anchor-id="subsetting-in-r-with-subset"><span class="header-section-number">20.12</span> Subsetting in R with subset</h2>
<section id="video-11" class="level3" data-number="20.12.1">
<h3 data-number="20.12.1" class="anchored" data-anchor-id="video-11"><span class="header-section-number">20.12.1</span> Video</h3>
<p>Link</p>
</section>
<section id="code-11" class="level3" data-number="20.12.2">
<h3 data-number="20.12.2" class="anchored" data-anchor-id="code-11"><span class="header-section-number">20.12.2</span> Code</h3>
<div class="sourceCode" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Name =</span> <span class="fu">c</span>(<span class="st">"Alice"</span>, <span class="st">"Bob"</span>, <span class="st">"Charlie"</span>, <span class="st">"Diana"</span>),</span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Age =</span> <span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">35</span>, <span class="dv">40</span>),</span>
<span id="cb122-4"><a href="#cb122-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Score =</span> <span class="fu">c</span>(<span class="dv">90</span>, <span class="dv">85</span>, <span class="dv">88</span>, <span class="dv">92</span>)</span>
<span id="cb122-5"><a href="#cb122-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb122-6"><a href="#cb122-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-7"><a href="#cb122-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-8"><a href="#cb122-8" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(df, Age <span class="sc">&gt;</span> <span class="dv">30</span>)</span>
<span id="cb122-9"><a href="#cb122-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-10"><a href="#cb122-10" aria-hidden="true" tabindex="-1"></a><span class="do">##     Name Age Score</span></span>
<span id="cb122-11"><a href="#cb122-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 3 Charlie  35    88</span></span>
<span id="cb122-12"><a href="#cb122-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 4   Diana  40    92</span></span>
<span id="cb122-13"><a href="#cb122-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-14"><a href="#cb122-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-15"><a href="#cb122-15" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(df, Score <span class="sc">&gt;</span> <span class="dv">85</span>, <span class="at">select =</span> <span class="fu">c</span>(Name, Score))</span>
<span id="cb122-16"><a href="#cb122-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-17"><a href="#cb122-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-18"><a href="#cb122-18" aria-hidden="true" tabindex="-1"></a><span class="do">##     Name Score</span></span>
<span id="cb122-19"><a href="#cb122-19" aria-hidden="true" tabindex="-1"></a><span class="do">## 1   Alice    90</span></span>
<span id="cb122-20"><a href="#cb122-20" aria-hidden="true" tabindex="-1"></a><span class="do">## 3 Charlie    88</span></span>
<span id="cb122-21"><a href="#cb122-21" aria-hidden="true" tabindex="-1"></a><span class="do">## 4   Diana    92</span></span>
<span id="cb122-22"><a href="#cb122-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-23"><a href="#cb122-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-24"><a href="#cb122-24" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(df, Score <span class="sc">&gt;</span> <span class="dv">85</span>, <span class="at">select =</span> <span class="sc">-</span>Age)</span>
<span id="cb122-25"><a href="#cb122-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-26"><a href="#cb122-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-27"><a href="#cb122-27" aria-hidden="true" tabindex="-1"></a><span class="do">##     Name Score</span></span>
<span id="cb122-28"><a href="#cb122-28" aria-hidden="true" tabindex="-1"></a><span class="do">## 1   Alice    90</span></span>
<span id="cb122-29"><a href="#cb122-29" aria-hidden="true" tabindex="-1"></a><span class="do">## 3 Charlie    88</span></span>
<span id="cb122-30"><a href="#cb122-30" aria-hidden="true" tabindex="-1"></a><span class="do">## 4   Diana    92</span></span>
<span id="cb122-31"><a href="#cb122-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-32"><a href="#cb122-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-33"><a href="#cb122-33" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="at">nrow =</span> <span class="dv">4</span>, <span class="at">dimnames =</span> <span class="fu">list</span>(<span class="cn">NULL</span>, <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>)))</span>
<span id="cb122-34"><a href="#cb122-34" aria-hidden="true" tabindex="-1"></a>mat</span>
<span id="cb122-35"><a href="#cb122-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-36"><a href="#cb122-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-37"><a href="#cb122-37" aria-hidden="true" tabindex="-1"></a><span class="do">##     A  B  C</span></span>
<span id="cb122-38"><a href="#cb122-38" aria-hidden="true" tabindex="-1"></a><span class="do">## [1,] 1  5  9</span></span>
<span id="cb122-39"><a href="#cb122-39" aria-hidden="true" tabindex="-1"></a><span class="do">## [2,] 2  6 10</span></span>
<span id="cb122-40"><a href="#cb122-40" aria-hidden="true" tabindex="-1"></a><span class="do">## [3,] 3  7 11</span></span>
<span id="cb122-41"><a href="#cb122-41" aria-hidden="true" tabindex="-1"></a><span class="do">## [4,] 4  8 12</span></span>
<span id="cb122-42"><a href="#cb122-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-43"><a href="#cb122-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-44"><a href="#cb122-44" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(mat, A <span class="sc">&gt;</span> <span class="dv">2</span>)</span>
<span id="cb122-45"><a href="#cb122-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-46"><a href="#cb122-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-47"><a href="#cb122-47" aria-hidden="true" tabindex="-1"></a><span class="do">##     A  B  C</span></span>
<span id="cb122-48"><a href="#cb122-48" aria-hidden="true" tabindex="-1"></a><span class="do">## [3,] 3  7 11</span></span>
<span id="cb122-49"><a href="#cb122-49" aria-hidden="true" tabindex="-1"></a><span class="do">## [4,] 4  8 12</span></span>
<span id="cb122-50"><a href="#cb122-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-51"><a href="#cb122-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-52"><a href="#cb122-52" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(mat, A <span class="sc">&gt;</span> <span class="dv">2</span>, <span class="at">select =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"C"</span>))</span>
<span id="cb122-53"><a href="#cb122-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-54"><a href="#cb122-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-55"><a href="#cb122-55" aria-hidden="true" tabindex="-1"></a><span class="do">##     A  C</span></span>
<span id="cb122-56"><a href="#cb122-56" aria-hidden="true" tabindex="-1"></a><span class="do">## [3,] 3 11</span></span>
<span id="cb122-57"><a href="#cb122-57" aria-hidden="true" tabindex="-1"></a><span class="do">## [4,] 4 12</span></span>
<span id="cb122-58"><a href="#cb122-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-59"><a href="#cb122-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-60"><a href="#cb122-60" aria-hidden="true" tabindex="-1"></a>vec <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">20</span>)</span>
<span id="cb122-61"><a href="#cb122-61" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(vec, vec <span class="sc">&gt;</span> <span class="dv">10</span>)</span>
<span id="cb122-62"><a href="#cb122-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-63"><a href="#cb122-63" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 15 20</span></span>
<span id="cb122-64"><a href="#cb122-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-65"><a href="#cb122-65" aria-hidden="true" tabindex="-1"></a><span class="do">## Data frame example</span></span>
<span id="cb122-66"><a href="#cb122-66" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(df, Age <span class="sc">&gt;</span> <span class="dv">25</span> <span class="sc">&amp;</span> Score <span class="sc">&gt;</span> <span class="dv">85</span>, <span class="at">select =</span> <span class="fu">c</span>(Name, Age))</span>
<span id="cb122-67"><a href="#cb122-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-68"><a href="#cb122-68" aria-hidden="true" tabindex="-1"></a><span class="do">## Matrix example</span></span>
<span id="cb122-69"><a href="#cb122-69" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(mat, B <span class="sc">&gt;</span> <span class="dv">6</span>, <span class="at">select =</span> <span class="sc">-</span>A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="transcript-11" class="level3" data-number="20.12.3">
<h3 data-number="20.12.3" class="anchored" data-anchor-id="transcript-11"><span class="header-section-number">20.12.3</span> Transcript</h3>
<p><strong>User:</strong> R-Bot, can you teach me how to use subset to work with data frames, matrices, and vectors? I’ve heard it’s a clean way to filter data.</p>
<p><strong>R-Bot:</strong> Absolutely! The subset function in R is a powerful tool for subsetting rows and columns, especially in data frames. It also works with matrices and vectors, but data frames are its primary focus. Let’s dive in.</p>
<section id="subsetting-rows-in-a-data-frame" class="level4" data-number="20.12.3.1">
<h4 data-number="20.12.3.1" class="anchored" data-anchor-id="subsetting-rows-in-a-data-frame"><span class="header-section-number">20.12.3.1</span> Subsetting Rows in a Data Frame</h4>
<p><strong>R-Bot:</strong> Let’s start with a data frame. Suppose you have this dataset:</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Name =</span> <span class="fu">c</span>(<span class="st">"Alice"</span>, <span class="st">"Bob"</span>, <span class="st">"Charlie"</span>, <span class="st">"Diana"</span>),</span>
<span id="cb123-3"><a href="#cb123-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Age =</span> <span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">35</span>, <span class="dv">40</span>),</span>
<span id="cb123-4"><a href="#cb123-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Score =</span> <span class="fu">c</span>(<span class="dv">90</span>, <span class="dv">85</span>, <span class="dv">88</span>, <span class="dv">92</span>)</span>
<span id="cb123-5"><a href="#cb123-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To filter rows where Age is greater than 30, you can use subset like this:</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(df, Age <span class="sc">&gt;</span> <span class="dv">30</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This returns:</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="do">##     Name Age Score</span></span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a><span class="do">## 3 Charlie  35    88</span></span>
<span id="cb125-3"><a href="#cb125-3" aria-hidden="true" tabindex="-1"></a><span class="do">## 4   Diana  40    92</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> That’s clean! I like that I don’t need to use df$ for column names.</p>
<p><strong>R-Bot:</strong> Exactly! subset automatically evaluates the conditions within the data frame, so it’s more concise.</p>
</section>
<section id="subsetting-rows-and-selecting-columns" class="level4" data-number="20.12.3.2">
<h4 data-number="20.12.3.2" class="anchored" data-anchor-id="subsetting-rows-and-selecting-columns"><span class="header-section-number">20.12.3.2</span> Subsetting Rows and Selecting Columns</h4>
<p><strong>R-Bot:</strong> You can also specify which columns to include in the output using the select argument. For example, to filter rows where Score &gt; 85 and only return the Name and Score columns:</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(df, Score <span class="sc">&gt;</span> <span class="dv">85</span>, <span class="at">select =</span> <span class="fu">c</span>(Name, Score))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This gives:</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="do">##     Name Score</span></span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a><span class="do">## 1   Alice    90</span></span>
<span id="cb127-3"><a href="#cb127-3" aria-hidden="true" tabindex="-1"></a><span class="do">## 3 Charlie    88</span></span>
<span id="cb127-4"><a href="#cb127-4" aria-hidden="true" tabindex="-1"></a><span class="do">## 4   Diana    92</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> What happens if I want to exclude a column instead of selecting specific ones?</p>
<p><strong>R-Bot:</strong> Great question! You can use the minus sign (-) with the select argument to exclude columns. For example, to exclude the Age column:</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(df, Score <span class="sc">&gt;</span> <span class="dv">85</span>, <span class="at">select =</span> <span class="sc">-</span>Age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This returns:</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="do">##     Name Score</span></span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a><span class="do">## 1   Alice    90</span></span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a><span class="do">## 3 Charlie    88</span></span>
<span id="cb129-4"><a href="#cb129-4" aria-hidden="true" tabindex="-1"></a><span class="do">## 4   Diana    92</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="subsetting-matrices" class="level4" data-number="20.12.3.3">
<h4 data-number="20.12.3.3" class="anchored" data-anchor-id="subsetting-matrices"><span class="header-section-number">20.12.3.3</span> Subsetting Matrices</h4>
<p><strong>R-Bot:</strong> Now let’s move on to matrices. Suppose you have this matrix:</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="at">nrow =</span> <span class="dv">4</span>, <span class="at">dimnames =</span> <span class="fu">list</span>(<span class="cn">NULL</span>, <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>)))</span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a>mat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This produces:</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="do">##     A  B  C</span></span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1,] 1  5  9</span></span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [2,] 2  6 10</span></span>
<span id="cb131-4"><a href="#cb131-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [3,] 3  7 11</span></span>
<span id="cb131-5"><a href="#cb131-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [4,] 4  8 12</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To subset rows where column A is greater than 2:</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(mat, A <span class="sc">&gt;</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This gives:</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="do">##     A  B  C</span></span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [3,] 3  7 11</span></span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [4,] 4  8 12</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> Can I also select specific columns in a matrix?</p>
<p><strong>R-Bot:</strong> Yes! Just like with data frames, use the select argument:</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(mat, A <span class="sc">&gt;</span> <span class="dv">2</span>, <span class="at">select =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"C"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This produces:</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="do">##     A  C</span></span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [3,] 3 11</span></span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [4,] 4 12</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="subsetting-vectors" class="level4" data-number="20.12.3.4">
<h4 data-number="20.12.3.4" class="anchored" data-anchor-id="subsetting-vectors"><span class="header-section-number">20.12.3.4</span> Subsetting Vectors</h4>
<p><strong>R-Bot:</strong> For vectors, subset works similarly but doesn’t have the select argument since vectors are one-dimensional. For example:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a>vec <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">20</span>)</span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(vec, vec <span class="sc">&gt;</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This returns:</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 15 20</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="important-notes-and-best-practices" class="level4" data-number="20.12.3.5">
<h4 data-number="20.12.3.5" class="anchored" data-anchor-id="important-notes-and-best-practices"><span class="header-section-number">20.12.3.5</span> Important Notes and Best Practices</h4>
<p><strong>R-Bot:</strong></p>
<ol type="1">
<li><p><strong>Clarity:</strong> While subset is concise, it’s not always the most explicit. For production code or complex filtering, consider using logical indexing or the dplyr package for more transparency.</p></li>
<li><p><strong>Column Conflicts:</strong> If there are objects in your environment with the same name as your columns, subset might behave unpredictably. Always double-check your environment if you encounter issues.</p></li>
<li><p><strong>Matrices:</strong> subset on matrices is less commonly used because traditional indexing (e.g., mat[rows, cols]) is usually more efficient and explicit.</p></li>
</ol>
</section>
<section id="example-combining-all-concepts" class="level4" data-number="20.12.3.6">
<h4 data-number="20.12.3.6" class="anchored" data-anchor-id="example-combining-all-concepts"><span class="header-section-number">20.12.3.6</span> Example Combining All Concepts</h4>
<p><strong>R-Bot:</strong> Here’s a final example that combines rows and columns for both data frames and matrices:</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Data frame example</span></span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(df, Age <span class="sc">&gt;</span> <span class="dv">25</span> <span class="sc">&amp;</span> Score <span class="sc">&gt;</span> <span class="dv">85</span>, <span class="at">select =</span> <span class="fu">c</span>(Name, Age))</span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Matrix example</span></span>
<span id="cb138-5"><a href="#cb138-5" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(mat, B <span class="sc">&gt;</span> <span class="dv">6</span>, <span class="at">select =</span> <span class="sc">-</span>A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> This is great! I didn’t realize subset could be so versatile. Thanks, R-Bot!</p>
<p><strong>R-Bot:</strong> You’re welcome! Just remember, for simplicity and readability, subset is a great tool, but always choose the method that best suits your workflow. Happy subsetting!</p>
</section>
</section>
</section>
<section id="preallocating-data-structures-in-r" class="level2" data-number="20.13">
<h2 data-number="20.13" class="anchored" data-anchor-id="preallocating-data-structures-in-r"><span class="header-section-number">20.13</span> Preallocating Data Structures in R</h2>
<section id="video-12" class="level3" data-number="20.13.1">
<h3 data-number="20.13.1" class="anchored" data-anchor-id="video-12"><span class="header-section-number">20.13.1</span> Video</h3>
<p>Link</p>
</section>
<section id="code-12" class="level3" data-number="20.13.2">
<h3 data-number="20.13.2" class="anchored" data-anchor-id="code-12"><span class="header-section-number">20.13.2</span> Code</h3>
<div class="sourceCode" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>squares <span class="ot">&lt;-</span> <span class="fu">c</span>()  <span class="do">## Start with an empty vector</span></span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>) {</span>
<span id="cb139-3"><a href="#cb139-3" aria-hidden="true" tabindex="-1"></a>  squares <span class="ot">&lt;-</span> <span class="fu">c</span>(squares, i<span class="sc">^</span><span class="dv">2</span>)  <span class="do">## Add each square to the vector</span></span>
<span id="cb139-4"><a href="#cb139-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb139-5"><a href="#cb139-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-6"><a href="#cb139-6" aria-hidden="true" tabindex="-1"></a>squares <span class="ot">&lt;-</span> <span class="fu">numeric</span>(<span class="dv">100</span>)  <span class="do">## Create a numeric vector of length 100</span></span>
<span id="cb139-7"><a href="#cb139-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>) {</span>
<span id="cb139-8"><a href="#cb139-8" aria-hidden="true" tabindex="-1"></a>  squares[i] <span class="ot">&lt;-</span> i<span class="sc">^</span><span class="dv">2</span>  <span class="do">## Fill in each element</span></span>
<span id="cb139-9"><a href="#cb139-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb139-10"><a href="#cb139-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-11"><a href="#cb139-11" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> <span class="dv">10</span>, <span class="at">ncol =</span> <span class="dv">10</span>)  <span class="do">## Preallocate a 10x10 matrix</span></span>
<span id="cb139-12"><a href="#cb139-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) {</span>
<span id="cb139-13"><a href="#cb139-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) {</span>
<span id="cb139-14"><a href="#cb139-14" aria-hidden="true" tabindex="-1"></a>    mat[i, j] <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">1</span>)  <span class="do">## Assign a random number</span></span>
<span id="cb139-15"><a href="#cb139-15" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb139-16"><a href="#cb139-16" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb139-17"><a href="#cb139-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-18"><a href="#cb139-18" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb139-19"><a href="#cb139-19" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) {</span>
<span id="cb139-20"><a href="#cb139-20" aria-hidden="true" tabindex="-1"></a>  row <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">10</span>)  <span class="do">## Generate a row of random numbers</span></span>
<span id="cb139-21"><a href="#cb139-21" aria-hidden="true" tabindex="-1"></a>  mat <span class="ot">&lt;-</span> <span class="fu">rbind</span>(mat, row)  <span class="do">## Add it to the matrix</span></span>
<span id="cb139-22"><a href="#cb139-22" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb139-23"><a href="#cb139-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-24"><a href="#cb139-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-25"><a href="#cb139-25" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb139-26"><a href="#cb139-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">Col1 =</span> <span class="fu">numeric</span>(<span class="dv">100</span>),  <span class="do">## Preallocate numeric column</span></span>
<span id="cb139-27"><a href="#cb139-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">Col2 =</span> <span class="fu">character</span>(<span class="dv">100</span>),  <span class="do">## Preallocate character column</span></span>
<span id="cb139-28"><a href="#cb139-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb139-29"><a href="#cb139-29" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb139-30"><a href="#cb139-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-31"><a href="#cb139-31" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>) {</span>
<span id="cb139-32"><a href="#cb139-32" aria-hidden="true" tabindex="-1"></a>  df<span class="sc">$</span>Col1[i] <span class="ot">&lt;-</span> i</span>
<span id="cb139-33"><a href="#cb139-33" aria-hidden="true" tabindex="-1"></a>  df<span class="sc">$</span>Col2[i] <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"Row"</span>, i)</span>
<span id="cb139-34"><a href="#cb139-34" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb139-35"><a href="#cb139-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-36"><a href="#cb139-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-37"><a href="#cb139-37" aria-hidden="true" tabindex="-1"></a>lst <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">"list"</span>, <span class="dv">10</span>)  <span class="do">## Preallocate a list with 10 elements</span></span>
<span id="cb139-38"><a href="#cb139-38" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) {</span>
<span id="cb139-39"><a href="#cb139-39" aria-hidden="true" tabindex="-1"></a>  lst[[i]] <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">5</span>)  <span class="do">## Assign a vector to each list element</span></span>
<span id="cb139-40"><a href="#cb139-40" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="transcript-12" class="level3" data-number="20.13.3">
<h3 data-number="20.13.3" class="anchored" data-anchor-id="transcript-12"><span class="header-section-number">20.13.3</span> Transcript</h3>
<p><strong>User:</strong> Hey R-Bot, I’ve been hearing that preallocating data structures can speed up my code. Can you show me what that means and why it’s important?</p>
<p><strong>R-Bot:</strong> Of course! Preallocating a data structure means creating it at its full size before you start filling it with data. This avoids the costly operation of resizing the structure repeatedly, which can slow down your code, especially in large loops.</p>
<section id="why-preallocate" class="level4" data-number="20.13.3.1">
<h4 data-number="20.13.3.1" class="anchored" data-anchor-id="why-preallocate"><span class="header-section-number">20.13.3.1</span> Why Preallocate?</h4>
<p><strong>R-Bot:</strong> Let me explain with an example. Suppose you want to create a vector to store the squares of the numbers 1 to 100. Here’s what happens if you don’t preallocate:</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a>squares <span class="ot">&lt;-</span> <span class="fu">c</span>()  <span class="do">## Start with an empty vector</span></span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>) {</span>
<span id="cb140-3"><a href="#cb140-3" aria-hidden="true" tabindex="-1"></a>  squares <span class="ot">&lt;-</span> <span class="fu">c</span>(squares, i<span class="sc">^</span><span class="dv">2</span>)  <span class="do">## Add each square to the vector</span></span>
<span id="cb140-4"><a href="#cb140-4" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> That seems simple. What’s the problem?</p>
<p><strong>R-Bot:</strong> Every time you use c(squares, i^2), R has to create a new vector with one more element, copy the old elements, and then add the new one. This takes time and memory.</p>
</section>
<section id="preallocating-a-vector" class="level4" data-number="20.13.3.2">
<h4 data-number="20.13.3.2" class="anchored" data-anchor-id="preallocating-a-vector"><span class="header-section-number">20.13.3.2</span> Preallocating a Vector</h4>
<p><strong>R-Bot:</strong> Instead, you can preallocate the vector like this:</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>squares <span class="ot">&lt;-</span> <span class="fu">numeric</span>(<span class="dv">100</span>)  <span class="do">## Create a numeric vector of length 100</span></span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>) {</span>
<span id="cb141-3"><a href="#cb141-3" aria-hidden="true" tabindex="-1"></a>  squares[i] <span class="ot">&lt;-</span> i<span class="sc">^</span><span class="dv">2</span>  <span class="do">## Fill in each element</span></span>
<span id="cb141-4"><a href="#cb141-4" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> So by creating the vector at the start, I’m saving R from resizing it repeatedly?</p>
<p><strong>R-Bot:</strong> Exactly! Preallocating makes your code faster and more efficient.</p>
</section>
<section id="preallocating-a-matrix" class="level4" data-number="20.13.3.3">
<h4 data-number="20.13.3.3" class="anchored" data-anchor-id="preallocating-a-matrix"><span class="header-section-number">20.13.3.3</span> Preallocating a Matrix</h4>
<p><strong>R-Bot:</strong> Now, let’s talk about matrices. Suppose you want to create a 10x10 matrix of random numbers. Here’s how you can preallocate it:</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> <span class="dv">10</span>, <span class="at">ncol =</span> <span class="dv">10</span>)  <span class="do">## Preallocate a 10x10 matrix</span></span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) {</span>
<span id="cb142-3"><a href="#cb142-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) {</span>
<span id="cb142-4"><a href="#cb142-4" aria-hidden="true" tabindex="-1"></a>    mat[i, j] <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">1</span>)  <span class="do">## Assign a random number</span></span>
<span id="cb142-5"><a href="#cb142-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb142-6"><a href="#cb142-6" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> What happens if I don’t preallocate the matrix?</p>
<p><strong>R-Bot:</strong> If you try to use something like rbind repeatedly, R will keep creating a new matrix each time. For example:</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) {</span>
<span id="cb143-3"><a href="#cb143-3" aria-hidden="true" tabindex="-1"></a>  row <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">10</span>)  <span class="do">## Generate a row of random numbers</span></span>
<span id="cb143-4"><a href="#cb143-4" aria-hidden="true" tabindex="-1"></a>  mat <span class="ot">&lt;-</span> <span class="fu">rbind</span>(mat, row)  <span class="do">## Add it to the matrix</span></span>
<span id="cb143-5"><a href="#cb143-5" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This approach is much slower because rbind has to copy all the rows every time.</p>
</section>
<section id="preallocating-a-data-frame" class="level4" data-number="20.13.3.4">
<h4 data-number="20.13.3.4" class="anchored" data-anchor-id="preallocating-a-data-frame"><span class="header-section-number">20.13.3.4</span> Preallocating a Data Frame</h4>
<p><strong>User:</strong> What about data frames? Can I preallocate those too?</p>
<p><strong>R-Bot:</strong> You can, but it’s a bit less common. Here’s how you’d preallocate a data frame for storing 100 rows and 2 columns:</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Col1 =</span> <span class="fu">numeric</span>(<span class="dv">100</span>),  <span class="do">## Preallocate numeric column</span></span>
<span id="cb144-3"><a href="#cb144-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Col2 =</span> <span class="fu">character</span>(<span class="dv">100</span>),  <span class="do">## Preallocate character column</span></span>
<span id="cb144-4"><a href="#cb144-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb144-5"><a href="#cb144-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb144-6"><a href="#cb144-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-7"><a href="#cb144-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>) {</span>
<span id="cb144-8"><a href="#cb144-8" aria-hidden="true" tabindex="-1"></a>  df<span class="sc">$</span>Col1[i] <span class="ot">&lt;-</span> i</span>
<span id="cb144-9"><a href="#cb144-9" aria-hidden="true" tabindex="-1"></a>  df<span class="sc">$</span>Col2[i] <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"Row"</span>, i)</span>
<span id="cb144-10"><a href="#cb144-10" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> What’s the downside if I don’t preallocate a data frame?</p>
<p><strong>R-Bot:</strong> Without preallocation, adding rows with rbind repeatedly can slow things down for the same reasons as with matrices.</p>
</section>
<section id="preallocating-lists" class="level4" data-number="20.13.3.5">
<h4 data-number="20.13.3.5" class="anchored" data-anchor-id="preallocating-lists"><span class="header-section-number">20.13.3.5</span> Preallocating Lists</h4>
<p><strong>R-Bot:</strong> Lists are very flexible in R, and you can preallocate them too. Suppose you want to store 10 vectors in a list:</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a>lst <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">"list"</span>, <span class="dv">10</span>)  <span class="do">## Preallocate a list with 10 elements</span></span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) {</span>
<span id="cb145-3"><a href="#cb145-3" aria-hidden="true" tabindex="-1"></a>  lst[[i]] <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">5</span>)  <span class="do">## Assign a vector to each list element</span></span>
<span id="cb145-4"><a href="#cb145-4" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> What happens if I just start with an empty list?</p>
<p><strong>R-Bot:</strong> If you start with lst &lt;- list() and keep appending elements using lst[[length(lst) + 1]] &lt;- ..., R will repeatedly resize the list, which is inefficient.</p>
</section>
<section id="when-preallocation-is-less-important" class="level4" data-number="20.13.3.6">
<h4 data-number="20.13.3.6" class="anchored" data-anchor-id="when-preallocation-is-less-important"><span class="header-section-number">20.13.3.6</span> When Preallocation is Less Important</h4>
<p><strong>User:</strong> Are there cases where preallocating doesn’t matter?</p>
<p><strong>R-Bot:</strong> If your data structure is small or your script isn’t performance-critical, you might not notice the difference. But for large datasets or loops, preallocating can make a significant impact.</p>
</section>
<section id="final-thoughts" class="level4" data-number="20.13.3.7">
<h4 data-number="20.13.3.7" class="anchored" data-anchor-id="final-thoughts"><span class="header-section-number">20.13.3.7</span> Final Thoughts</h4>
<p><strong>R-Bot:</strong> Here’s a quick summary:</p>
<ol type="1">
<li><p><strong>Vectors:</strong> Use numeric(), integer(), or character() with a specified length.</p></li>
<li><p><strong>Matrices:</strong> Use matrix() with nrow and ncol.</p></li>
<li><p><strong>Data Frames:</strong> Create columns with the correct types and lengths.</p></li>
<li><p><strong>Lists:</strong> Use vector("list", length).</p></li>
</ol>
<p><strong>User:</strong> This makes a lot of sense. Thanks for the tips, R-Bot!</p>
<p><strong>R-Bot:</strong> You’re welcome! Preallocate wisely, and you’ll see your code become faster and more efficient. Happy coding!</p>
</section>
</section>
</section>
<section id="using-transform-and-within-in-r" class="level2" data-number="20.14">
<h2 data-number="20.14" class="anchored" data-anchor-id="using-transform-and-within-in-r"><span class="header-section-number">20.14</span> Using transform and within in R</h2>
<section id="video-13" class="level3" data-number="20.14.1">
<h3 data-number="20.14.1" class="anchored" data-anchor-id="video-13"><span class="header-section-number">20.14.1</span> Video</h3>
<p>Link</p>
</section>
<section id="code-13" class="level3" data-number="20.14.2">
<h3 data-number="20.14.2" class="anchored" data-anchor-id="code-13"><span class="header-section-number">20.14.2</span> Code</h3>
<div class="sourceCode" id="cb146"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,</span>
<span id="cb146-3"><a href="#cb146-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">10</span>)</span>
<span id="cb146-4"><a href="#cb146-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb146-5"><a href="#cb146-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-6"><a href="#cb146-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-7"><a href="#cb146-7" aria-hidden="true" tabindex="-1"></a>df_transformed <span class="ot">&lt;-</span> <span class="fu">transform</span>(df, <span class="at">z =</span> x <span class="sc">*</span> y)</span>
<span id="cb146-8"><a href="#cb146-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-9"><a href="#cb146-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-10"><a href="#cb146-10" aria-hidden="true" tabindex="-1"></a>df_within <span class="ot">&lt;-</span> <span class="fu">within</span>(df, {</span>
<span id="cb146-11"><a href="#cb146-11" aria-hidden="true" tabindex="-1"></a>  z <span class="ot">&lt;-</span> x <span class="sc">*</span> y</span>
<span id="cb146-12"><a href="#cb146-12" aria-hidden="true" tabindex="-1"></a>  w <span class="ot">&lt;-</span> x <span class="sc">+</span> y  <span class="do">## Add another column</span></span>
<span id="cb146-13"><a href="#cb146-13" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb146-14"><a href="#cb146-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-15"><a href="#cb146-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-16"><a href="#cb146-16" aria-hidden="true" tabindex="-1"></a>df_within <span class="ot">&lt;-</span> <span class="fu">within</span>(df_within, {</span>
<span id="cb146-17"><a href="#cb146-17" aria-hidden="true" tabindex="-1"></a>  z <span class="ot">&lt;-</span> <span class="cn">NULL</span>  <span class="do">## Removes the column z</span></span>
<span id="cb146-18"><a href="#cb146-18" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb146-19"><a href="#cb146-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-20"><a href="#cb146-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-21"><a href="#cb146-21" aria-hidden="true" tabindex="-1"></a>students <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb146-22"><a href="#cb146-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">"Alice"</span>, <span class="st">"Bob"</span>, <span class="st">"Charlie"</span>),</span>
<span id="cb146-23"><a href="#cb146-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">math =</span> <span class="fu">c</span>(<span class="dv">85</span>, <span class="dv">90</span>, <span class="dv">78</span>),</span>
<span id="cb146-24"><a href="#cb146-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">science =</span> <span class="fu">c</span>(<span class="dv">88</span>, <span class="dv">92</span>, <span class="dv">81</span>)</span>
<span id="cb146-25"><a href="#cb146-25" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb146-26"><a href="#cb146-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-27"><a href="#cb146-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-28"><a href="#cb146-28" aria-hidden="true" tabindex="-1"></a>students_transformed <span class="ot">&lt;-</span> <span class="fu">transform</span>(students, <span class="at">average =</span> (math <span class="sc">+</span> science) <span class="sc">/</span> <span class="dv">2</span>)</span>
<span id="cb146-29"><a href="#cb146-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-30"><a href="#cb146-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-31"><a href="#cb146-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-32"><a href="#cb146-32" aria-hidden="true" tabindex="-1"></a>students_within <span class="ot">&lt;-</span> <span class="fu">within</span>(students, {</span>
<span id="cb146-33"><a href="#cb146-33" aria-hidden="true" tabindex="-1"></a>  average <span class="ot">&lt;-</span> (math <span class="sc">+</span> science) <span class="sc">/</span> <span class="dv">2</span></span>
<span id="cb146-34"><a href="#cb146-34" aria-hidden="true" tabindex="-1"></a>  passed <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(average <span class="sc">&gt;=</span> <span class="dv">80</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)  <span class="do">## Add a pass/fail column</span></span>
<span id="cb146-35"><a href="#cb146-35" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="transcript-13" class="level3" data-number="20.14.3">
<h3 data-number="20.14.3" class="anchored" data-anchor-id="transcript-13"><span class="header-section-number">20.14.3</span> Transcript</h3>
<p><strong>User:</strong> Hey R-Bot, I heard about the transform and within functions. Can you explain how they work and why I might use them?</p>
<p><strong>R-Bot:</strong> Absolutely! Both transform and within are functions in R that allow you to modify a data frame or list while working on a copy of the original data. Let’s break them down.</p>
<section id="what-does-transform-do" class="level4" data-number="20.14.3.1">
<h4 data-number="20.14.3.1" class="anchored" data-anchor-id="what-does-transform-do"><span class="header-section-number">20.14.3.1</span> What Does transform Do?</h4>
<p><strong>R-Bot:</strong> The transform function lets you create or modify columns in a data frame. Here’s an example. Suppose you have a data frame of numbers:</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,</span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">10</span>)</span>
<span id="cb147-4"><a href="#cb147-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If you want to add a new column, z, that is the product of x and y, you can use transform like this:</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a>df_transformed <span class="ot">&lt;-</span> <span class="fu">transform</span>(df, <span class="at">z =</span> x <span class="sc">*</span> y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now df_transformed contains the new column z.</p>
<p><strong>User:</strong> Does transform modify the original df?</p>
<p><strong>R-Bot:</strong> Nope! transform returns a modified copy of the data frame. Your original df remains unchanged unless you explicitly reassign it.</p>
</section>
<section id="what-about-within" class="level4" data-number="20.14.3.2">
<h4 data-number="20.14.3.2" class="anchored" data-anchor-id="what-about-within"><span class="header-section-number">20.14.3.2</span> What About within?</h4>
<p><strong>R-Bot:</strong> The within function is a bit more flexible. It gives you a block where you can perform multiple modifications at once. Here’s how you’d do the same operation with within:</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a>df_within <span class="ot">&lt;-</span> <span class="fu">within</span>(df, {</span>
<span id="cb149-2"><a href="#cb149-2" aria-hidden="true" tabindex="-1"></a>  z <span class="ot">&lt;-</span> x <span class="sc">*</span> y</span>
<span id="cb149-3"><a href="#cb149-3" aria-hidden="true" tabindex="-1"></a>  w <span class="ot">&lt;-</span> x <span class="sc">+</span> y  <span class="do">## Add another column</span></span>
<span id="cb149-4"><a href="#cb149-4" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Inside the {}, you can write multiple operations, and they all apply to the copy of the data frame.</p>
<p><strong>User:</strong> Can I use within to remove columns too?</p>
<p><strong>R-Bot:</strong> Absolutely! Here’s how you could remove a column, for example:</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a>df_within <span class="ot">&lt;-</span> <span class="fu">within</span>(df_within, {</span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a>  z <span class="ot">&lt;-</span> <span class="cn">NULL</span>  <span class="do">## Removes the column z</span></span>
<span id="cb150-3"><a href="#cb150-3" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Setting a column to NULL removes it.</p>
</section>
<section id="differences-between-transform-and-within" class="level4" data-number="20.14.3.3">
<h4 data-number="20.14.3.3" class="anchored" data-anchor-id="differences-between-transform-and-within"><span class="header-section-number">20.14.3.3</span> Differences Between transform and within</h4>
<p><strong>User:</strong> So when should I use transform versus within?</p>
<p><strong>R-Bot:</strong> Great question! Here’s a quick comparison:</p>
<table class="table">
<colgroup>
<col style="width: 21%">
<col style="width: 33%">
<col style="width: 42%">
</colgroup>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>Feature</strong></td>
<td style="text-align: left;"><strong>transform</strong></td>
<td style="text-align: left;"><strong>within</strong></td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Simplicity</strong></td>
<td style="text-align: left;">Best for simple operations</td>
<td style="text-align: left;">Better for multiple steps</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Flexibility</strong></td>
<td style="text-align: left;">Limited to creating/modifying columns</td>
<td style="text-align: left;">Supports adding, modifying, and removing columns</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Usability</strong></td>
<td style="text-align: left;">One-line changes</td>
<td style="text-align: left;">Multi-step transformations</td>
</tr>
</tbody>
</table>
<p>For example, if you only need to add one column, transform is fine. But if you’re doing several operations or need more control, use within.</p>
</section>
<section id="practical-example-1" class="level4" data-number="20.14.3.4">
<h4 data-number="20.14.3.4" class="anchored" data-anchor-id="practical-example-1"><span class="header-section-number">20.14.3.4</span> Practical Example</h4>
<p><strong>R-Bot:</strong> Let’s say you have a dataset of students' scores:</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a>students <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb151-2"><a href="#cb151-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">"Alice"</span>, <span class="st">"Bob"</span>, <span class="st">"Charlie"</span>),</span>
<span id="cb151-3"><a href="#cb151-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">math =</span> <span class="fu">c</span>(<span class="dv">85</span>, <span class="dv">90</span>, <span class="dv">78</span>),</span>
<span id="cb151-4"><a href="#cb151-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">science =</span> <span class="fu">c</span>(<span class="dv">88</span>, <span class="dv">92</span>, <span class="dv">81</span>)</span>
<span id="cb151-5"><a href="#cb151-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If you want to calculate the average score, you can use transform like this:</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a>students_transformed <span class="ot">&lt;-</span> <span class="fu">transform</span>(students, <span class="at">average =</span> (math <span class="sc">+</span> science) <span class="sc">/</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Or with within:</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a>students_within <span class="ot">&lt;-</span> <span class="fu">within</span>(students, {</span>
<span id="cb153-2"><a href="#cb153-2" aria-hidden="true" tabindex="-1"></a>  average <span class="ot">&lt;-</span> (math <span class="sc">+</span> science) <span class="sc">/</span> <span class="dv">2</span></span>
<span id="cb153-3"><a href="#cb153-3" aria-hidden="true" tabindex="-1"></a>  passed <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(average <span class="sc">&gt;=</span> <span class="dv">80</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)  <span class="do">## Add a pass/fail column</span></span>
<span id="cb153-4"><a href="#cb153-4" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="best-practices-1" class="level4" data-number="20.14.3.5">
<h4 data-number="20.14.3.5" class="anchored" data-anchor-id="best-practices-1"><span class="header-section-number">20.14.3.5</span> Best Practices</h4>
<p><strong>R-Bot:</strong> A few tips for working with transform and within:</p>
<ol type="1">
<li><p><strong>Preserve Original Data:</strong> Both functions work on copies, so you don’t accidentally overwrite your original data unless you reassign the result.</p></li>
<li><p><strong>Choose Based on Complexity:</strong> Use transform for quick column additions or modifications. Use within for more complex operations.</p></li>
<li><p><strong>Combine with Functions:</strong> These functions pair well with others like subset for filtering rows before modifying the data.</p></li>
</ol>
<p><strong>User:</strong> That’s really useful! So transform is for quick tasks, and within is like a mini-workspace for data modifications.</p>
<p><strong>R-Bot:</strong> Exactly! With these tools, you can make your data manipulation tasks more efficient and organized. Let me know if you’d like more examples!</p>
<p><strong>User:</strong> Thanks, R-Bot. I’ll give these functions a try!</p>
<p><strong>R-Bot:</strong> You’re welcome! Happy coding!</p>
</section>
</section>
</section>
<section id="using-the-repeat-function-in-r" class="level2" data-number="20.15">
<h2 data-number="20.15" class="anchored" data-anchor-id="using-the-repeat-function-in-r"><span class="header-section-number">20.15</span> Using the repeat Function in R</h2>
<section id="video-14" class="level3" data-number="20.15.1">
<h3 data-number="20.15.1" class="anchored" data-anchor-id="video-14"><span class="header-section-number">20.15.1</span> Video</h3>
<p>Link</p>
</section>
<section id="code-14" class="level3" data-number="20.15.2">
<h3 data-number="20.15.2" class="anchored" data-anchor-id="code-14"><span class="header-section-number">20.15.2</span> Code</h3>
<div class="sourceCode" id="cb154"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a>count <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb154-2"><a href="#cb154-2" aria-hidden="true" tabindex="-1"></a><span class="cf">repeat</span> {</span>
<span id="cb154-3"><a href="#cb154-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(count)</span>
<span id="cb154-4"><a href="#cb154-4" aria-hidden="true" tabindex="-1"></a>  count <span class="ot">&lt;-</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb154-5"><a href="#cb154-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (count <span class="sc">&gt;</span> <span class="dv">5</span>) {</span>
<span id="cb154-6"><a href="#cb154-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">break</span></span>
<span id="cb154-7"><a href="#cb154-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb154-8"><a href="#cb154-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb154-9"><a href="#cb154-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb154-10"><a href="#cb154-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb154-11"><a href="#cb154-11" aria-hidden="true" tabindex="-1"></a>count <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb154-12"><a href="#cb154-12" aria-hidden="true" tabindex="-1"></a><span class="cf">repeat</span> {</span>
<span id="cb154-13"><a href="#cb154-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (count <span class="sc">&gt;</span> <span class="dv">5</span>) {</span>
<span id="cb154-14"><a href="#cb154-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">break</span></span>
<span id="cb154-15"><a href="#cb154-15" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb154-16"><a href="#cb154-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(count)</span>
<span id="cb154-17"><a href="#cb154-17" aria-hidden="true" tabindex="-1"></a>  count <span class="ot">&lt;-</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb154-18"><a href="#cb154-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb154-19"><a href="#cb154-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb154-20"><a href="#cb154-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb154-21"><a href="#cb154-21" aria-hidden="true" tabindex="-1"></a>count <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb154-22"><a href="#cb154-22" aria-hidden="true" tabindex="-1"></a><span class="cf">repeat</span> {</span>
<span id="cb154-23"><a href="#cb154-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(count)</span>
<span id="cb154-24"><a href="#cb154-24" aria-hidden="true" tabindex="-1"></a>  count <span class="ot">&lt;-</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb154-25"><a href="#cb154-25" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (count <span class="sc">&gt;</span> <span class="dv">5</span>) {</span>
<span id="cb154-26"><a href="#cb154-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">break</span></span>
<span id="cb154-27"><a href="#cb154-27" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb154-28"><a href="#cb154-28" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb154-29"><a href="#cb154-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb154-30"><a href="#cb154-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb154-31"><a href="#cb154-31" aria-hidden="true" tabindex="-1"></a>count <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb154-32"><a href="#cb154-32" aria-hidden="true" tabindex="-1"></a><span class="cf">repeat</span> {</span>
<span id="cb154-33"><a href="#cb154-33" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (count <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb154-34"><a href="#cb154-34" aria-hidden="true" tabindex="-1"></a>    count <span class="ot">&lt;-</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb154-35"><a href="#cb154-35" aria-hidden="true" tabindex="-1"></a>    <span class="cf">next</span></span>
<span id="cb154-36"><a href="#cb154-36" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb154-37"><a href="#cb154-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(count)</span>
<span id="cb154-38"><a href="#cb154-38" aria-hidden="true" tabindex="-1"></a>  count <span class="ot">&lt;-</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb154-39"><a href="#cb154-39" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (count <span class="sc">&gt;</span> <span class="dv">10</span>) {</span>
<span id="cb154-40"><a href="#cb154-40" aria-hidden="true" tabindex="-1"></a>    <span class="cf">break</span></span>
<span id="cb154-41"><a href="#cb154-41" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb154-42"><a href="#cb154-42" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb154-43"><a href="#cb154-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb154-44"><a href="#cb154-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb154-45"><a href="#cb154-45" aria-hidden="true" tabindex="-1"></a><span class="cf">repeat</span> {</span>
<span id="cb154-46"><a href="#cb154-46" aria-hidden="true" tabindex="-1"></a>  roll <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">1</span>)  <span class="do">## Simulate a dice roll</span></span>
<span id="cb154-47"><a href="#cb154-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"You rolled:"</span>, roll))</span>
<span id="cb154-48"><a href="#cb154-48" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (roll <span class="sc">==</span> <span class="dv">6</span>) {</span>
<span id="cb154-49"><a href="#cb154-49" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">"You rolled a 6! Stopping the loop."</span>)</span>
<span id="cb154-50"><a href="#cb154-50" aria-hidden="true" tabindex="-1"></a>    <span class="cf">break</span></span>
<span id="cb154-51"><a href="#cb154-51" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb154-52"><a href="#cb154-52" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="transcript-14" class="level3" data-number="20.15.3">
<h3 data-number="20.15.3" class="anchored" data-anchor-id="transcript-14"><span class="header-section-number">20.15.3</span> Transcript</h3>
<p><strong>User:</strong> Hey R-Bot, I’ve heard about the repeat function in R for creating custom loops. Can you explain how it works?</p>
<p><strong>R-Bot:</strong> Of course! The repeat function in R is a way to create infinite loops that keep running until you explicitly tell them to stop using a break statement. It’s very flexible and can mimic the behavior of other loop structures like while or do-while loops.</p>
<section id="basics-of-repeat" class="level4" data-number="20.15.3.1">
<h4 data-number="20.15.3.1" class="anchored" data-anchor-id="basics-of-repeat"><span class="header-section-number">20.15.3.1</span> Basics of repeat</h4>
<p><strong>R-Bot:</strong> Let’s start with the simplest example. Here’s a basic repeat loop:</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a>count <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb155-2"><a href="#cb155-2" aria-hidden="true" tabindex="-1"></a><span class="cf">repeat</span> {</span>
<span id="cb155-3"><a href="#cb155-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(count)</span>
<span id="cb155-4"><a href="#cb155-4" aria-hidden="true" tabindex="-1"></a>  count <span class="ot">&lt;-</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb155-5"><a href="#cb155-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (count <span class="sc">&gt;</span> <span class="dv">5</span>) {</span>
<span id="cb155-6"><a href="#cb155-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">break</span></span>
<span id="cb155-7"><a href="#cb155-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb155-8"><a href="#cb155-8" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> So, it keeps running until count &gt; 5?</p>
<p><strong>R-Bot:</strong> Exactly! The break statement is what stops the loop. Without it, the loop would continue forever.</p>
</section>
<section id="mimicking-a-while-loop" class="level4" data-number="20.15.3.2">
<h4 data-number="20.15.3.2" class="anchored" data-anchor-id="mimicking-a-while-loop"><span class="header-section-number">20.15.3.2</span> Mimicking a while Loop</h4>
<p><strong>User:</strong> Can you show me how repeat can act like a while loop?</p>
<p><strong>R-Bot:</strong> Sure! A while loop checks the condition at the beginning. You can achieve the same thing with repeat by placing the condition check and break at the start of the loop:</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a>count <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a><span class="cf">repeat</span> {</span>
<span id="cb156-3"><a href="#cb156-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (count <span class="sc">&gt;</span> <span class="dv">5</span>) {</span>
<span id="cb156-4"><a href="#cb156-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">break</span></span>
<span id="cb156-5"><a href="#cb156-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb156-6"><a href="#cb156-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(count)</span>
<span id="cb156-7"><a href="#cb156-7" aria-hidden="true" tabindex="-1"></a>  count <span class="ot">&lt;-</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb156-8"><a href="#cb156-8" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> So it’s like running a while(count &lt;= 5) loop?</p>
<p><strong>R-Bot:</strong> Exactly! By checking the condition at the start, you control whether the loop continues.</p>
</section>
<section id="mimicking-a-do-while-loop" class="level4" data-number="20.15.3.3">
<h4 data-number="20.15.3.3" class="anchored" data-anchor-id="mimicking-a-do-while-loop"><span class="header-section-number">20.15.3.3</span> Mimicking a do-while Loop</h4>
<p><strong>User:</strong> What about a do-while loop? That checks the condition at the end, right?</p>
<p><strong>R-Bot:</strong> That’s right! With a repeat loop, you can mimic a do-while by testing the condition after running the loop body:</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a>count <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb157-2"><a href="#cb157-2" aria-hidden="true" tabindex="-1"></a><span class="cf">repeat</span> {</span>
<span id="cb157-3"><a href="#cb157-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(count)</span>
<span id="cb157-4"><a href="#cb157-4" aria-hidden="true" tabindex="-1"></a>  count <span class="ot">&lt;-</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb157-5"><a href="#cb157-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (count <span class="sc">&gt;</span> <span class="dv">5</span>) {</span>
<span id="cb157-6"><a href="#cb157-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">break</span></span>
<span id="cb157-7"><a href="#cb157-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb157-8"><a href="#cb157-8" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> Got it. So the loop always runs at least once, even if the condition is false initially.</p>
<p><strong>R-Bot:</strong> Exactly! That’s the key feature of a do-while loop.</p>
</section>
<section id="using-next-to-skip-iterations" class="level4" data-number="20.15.3.4">
<h4 data-number="20.15.3.4" class="anchored" data-anchor-id="using-next-to-skip-iterations"><span class="header-section-number">20.15.3.4</span> Using next to Skip Iterations</h4>
<p><strong>User:</strong> What about skipping iterations in a loop? Can I do that with repeat?</p>
<p><strong>R-Bot:</strong> Absolutely! You can use the next statement to skip to the next iteration. Here’s an example where we skip even numbers:</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a>count <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb158-2"><a href="#cb158-2" aria-hidden="true" tabindex="-1"></a><span class="cf">repeat</span> {</span>
<span id="cb158-3"><a href="#cb158-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (count <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb158-4"><a href="#cb158-4" aria-hidden="true" tabindex="-1"></a>    count <span class="ot">&lt;-</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb158-5"><a href="#cb158-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">next</span></span>
<span id="cb158-6"><a href="#cb158-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb158-7"><a href="#cb158-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(count)</span>
<span id="cb158-8"><a href="#cb158-8" aria-hidden="true" tabindex="-1"></a>  count <span class="ot">&lt;-</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb158-9"><a href="#cb158-9" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (count <span class="sc">&gt;</span> <span class="dv">10</span>) {</span>
<span id="cb158-10"><a href="#cb158-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">break</span></span>
<span id="cb158-11"><a href="#cb158-11" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb158-12"><a href="#cb158-12" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> Oh, so next skips the rest of the loop body and goes straight to the next iteration?</p>
<p><strong>R-Bot:</strong> That’s correct! It’s handy when you want to conditionally skip some iterations.</p>
</section>
<section id="advanced-example-simulating-a-dice-roll" class="level4" data-number="20.15.3.5">
<h4 data-number="20.15.3.5" class="anchored" data-anchor-id="advanced-example-simulating-a-dice-roll"><span class="header-section-number">20.15.3.5</span> Advanced Example: Simulating a Dice Roll</h4>
<p><strong>R-Bot:</strong> Let’s combine everything into a practical example. Suppose you’re rolling a die repeatedly and want to stop when you roll a 6:</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="cf">repeat</span> {</span>
<span id="cb159-2"><a href="#cb159-2" aria-hidden="true" tabindex="-1"></a>  roll <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">1</span>)  <span class="do">## Simulate a dice roll</span></span>
<span id="cb159-3"><a href="#cb159-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"You rolled:"</span>, roll))</span>
<span id="cb159-4"><a href="#cb159-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (roll <span class="sc">==</span> <span class="dv">6</span>) {</span>
<span id="cb159-5"><a href="#cb159-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">"You rolled a 6! Stopping the loop."</span>)</span>
<span id="cb159-6"><a href="#cb159-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">break</span></span>
<span id="cb159-7"><a href="#cb159-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb159-8"><a href="#cb159-8" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> That’s cool! It keeps rolling until the condition is met.</p>
</section>
<section id="best-practices-with-repeat" class="level4" data-number="20.15.3.6">
<h4 data-number="20.15.3.6" class="anchored" data-anchor-id="best-practices-with-repeat"><span class="header-section-number">20.15.3.6</span> Best Practices with repeat</h4>
<p><strong>R-Bot:</strong> A few tips for using repeat effectively:</p>
<ol type="1">
<li><p><strong>Always Include a break:</strong> Without it, your loop will run forever.</p></li>
<li><p><strong>Use next for Skipping:</strong> This can make your logic cleaner if you need to skip certain cases.</p></li>
<li><p><strong>Condition Placement Matters:</strong> Decide whether to check the condition at the start (like a while loop) or at the end (like a do-while loop).</p></li>
</ol>
<p><strong>User:</strong> Got it. repeat seems super flexible, but it also looks like it could lead to infinite loops if I’m not careful.</p>
<p><strong>R-Bot:</strong> That’s true! As long as you manage your conditions and break logic carefully, it’s a powerful tool for custom loops.</p>
<p><strong>User:</strong> Thanks, R-Bot! I’m going to try these out now.</p>
<p><strong>R-Bot:</strong> You’re welcome! Have fun looping and breaking things—safely, of course! 🚀</p>
</section>
</section>
</section>
<section id="exploring-the-outer-function-for-pairwise-combinations" class="level2" data-number="20.16">
<h2 data-number="20.16" class="anchored" data-anchor-id="exploring-the-outer-function-for-pairwise-combinations"><span class="header-section-number">20.16</span> Exploring the outer Function for Pairwise Combinations</h2>
<section id="video-15" class="level3" data-number="20.16.1">
<h3 data-number="20.16.1" class="anchored" data-anchor-id="video-15"><span class="header-section-number">20.16.1</span> Video</h3>
<p>Link</p>
</section>
<section id="code-15" class="level3" data-number="20.16.2">
<h3 data-number="20.16.2" class="anchored" data-anchor-id="code-15"><span class="header-section-number">20.16.2</span> Code</h3>
<div class="sourceCode" id="cb160"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="fu">outer</span>(X, Y, FUN, ...)</span>
<span id="cb160-2"><a href="#cb160-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-3"><a href="#cb160-3" aria-hidden="true" tabindex="-1"></a>s1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>)</span>
<span id="cb160-4"><a href="#cb160-4" aria-hidden="true" tabindex="-1"></a>s2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"1"</span>, <span class="st">"2"</span>, <span class="st">"3"</span>)</span>
<span id="cb160-5"><a href="#cb160-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-6"><a href="#cb160-6" aria-hidden="true" tabindex="-1"></a>combinations <span class="ot">&lt;-</span> <span class="fu">outer</span>(s1, s2, paste, <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb160-7"><a href="#cb160-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(combinations)</span>
<span id="cb160-8"><a href="#cb160-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-9"><a href="#cb160-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-10"><a href="#cb160-10" aria-hidden="true" tabindex="-1"></a><span class="do">##     [,1] [,2] [,3]</span></span>
<span id="cb160-11"><a href="#cb160-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [1,] "A1" "A2" "A3"</span></span>
<span id="cb160-12"><a href="#cb160-12" aria-hidden="true" tabindex="-1"></a><span class="do">## [2,] "B1" "B2" "B3"</span></span>
<span id="cb160-13"><a href="#cb160-13" aria-hidden="true" tabindex="-1"></a><span class="do">## [3,] "C1" "C2" "C3"</span></span>
<span id="cb160-14"><a href="#cb160-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-15"><a href="#cb160-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-16"><a href="#cb160-16" aria-hidden="true" tabindex="-1"></a>flat_combinations <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(combinations)</span>
<span id="cb160-17"><a href="#cb160-17" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(flat_combinations)</span>
<span id="cb160-18"><a href="#cb160-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-19"><a href="#cb160-19" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] "A1" "A2" "A3" "B1" "B2" "B3" "C1" "C2" "C3"</span></span>
<span id="cb160-20"><a href="#cb160-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-21"><a href="#cb160-21" aria-hidden="true" tabindex="-1"></a>v1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb160-22"><a href="#cb160-22" aria-hidden="true" tabindex="-1"></a>v2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>)</span>
<span id="cb160-23"><a href="#cb160-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-24"><a href="#cb160-24" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">outer</span>(v1, v2, <span class="st">`</span><span class="at">*</span><span class="st">`</span>)</span>
<span id="cb160-25"><a href="#cb160-25" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)</span>
<span id="cb160-26"><a href="#cb160-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-27"><a href="#cb160-27" aria-hidden="true" tabindex="-1"></a><span class="do">##     [,1] [,2] [,3]</span></span>
<span id="cb160-28"><a href="#cb160-28" aria-hidden="true" tabindex="-1"></a><span class="do">## [1,]    4    5    6</span></span>
<span id="cb160-29"><a href="#cb160-29" aria-hidden="true" tabindex="-1"></a><span class="do">## [2,]    8   10   12</span></span>
<span id="cb160-30"><a href="#cb160-30" aria-hidden="true" tabindex="-1"></a><span class="do">## [3,]   12   15   18</span></span>
<span id="cb160-31"><a href="#cb160-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-32"><a href="#cb160-32" aria-hidden="true" tabindex="-1"></a>sum_square <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) (x <span class="sc">+</span> y)<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb160-33"><a href="#cb160-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-34"><a href="#cb160-34" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">outer</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">4</span><span class="sc">:</span><span class="dv">6</span>, sum_square)</span>
<span id="cb160-35"><a href="#cb160-35" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)</span>
<span id="cb160-36"><a href="#cb160-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-37"><a href="#cb160-37" aria-hidden="true" tabindex="-1"></a><span class="do">##     [,1] [,2] [,3]</span></span>
<span id="cb160-38"><a href="#cb160-38" aria-hidden="true" tabindex="-1"></a><span class="do">## [1,]   25   36   49</span></span>
<span id="cb160-39"><a href="#cb160-39" aria-hidden="true" tabindex="-1"></a><span class="do">## [2,]   49   64   81</span></span>
<span id="cb160-40"><a href="#cb160-40" aria-hidden="true" tabindex="-1"></a><span class="do">## [3,]   81  100  121</span></span>
<span id="cb160-41"><a href="#cb160-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-42"><a href="#cb160-42" aria-hidden="true" tabindex="-1"></a>group <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"G1"</span>, <span class="st">"G2"</span>)</span>
<span id="cb160-43"><a href="#cb160-43" aria-hidden="true" tabindex="-1"></a>member <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"M1"</span>, <span class="st">"M2"</span>, <span class="st">"M3"</span>)</span>
<span id="cb160-44"><a href="#cb160-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-45"><a href="#cb160-45" aria-hidden="true" tabindex="-1"></a>unique_ids <span class="ot">&lt;-</span> <span class="fu">outer</span>(group, member, paste, <span class="at">sep =</span> <span class="st">"-"</span>)</span>
<span id="cb160-46"><a href="#cb160-46" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(unique_ids)</span>
<span id="cb160-47"><a href="#cb160-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-48"><a href="#cb160-48" aria-hidden="true" tabindex="-1"></a><span class="do">##     [,1]    [,2]    [,3]   </span></span>
<span id="cb160-49"><a href="#cb160-49" aria-hidden="true" tabindex="-1"></a><span class="do">## [1,] "G1-M1" "G1-M2" "G1-M3"</span></span>
<span id="cb160-50"><a href="#cb160-50" aria-hidden="true" tabindex="-1"></a><span class="do">## [2,] "G2-M1" "G2-M2" "G2-M3"</span></span>
<span id="cb160-51"><a href="#cb160-51" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="transcript-15" class="level3" data-number="20.16.3">
<h3 data-number="20.16.3" class="anchored" data-anchor-id="transcript-15"><span class="header-section-number">20.16.3</span> Transcript</h3>
<p><strong>User:</strong> Hey R-Bot, I’ve been hearing about the outer function in R. Can you show me how it works, especially for generating pairwise combinations?</p>
<p><strong>R-Bot:</strong> Absolutely! The outer function is a powerful tool for applying a function to all pairwise combinations of two vectors. Let’s explore it with an example.</p>
<section id="what-is-the-outer-function" class="level4" data-number="20.16.3.1">
<h4 data-number="20.16.3.1" class="anchored" data-anchor-id="what-is-the-outer-function"><span class="header-section-number">20.16.3.1</span> What is the outer Function?</h4>
<p><strong>R-Bot:</strong> The outer function takes two vectors and applies a function to each pair of elements, creating a matrix of results. The general syntax is:</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a><span class="fu">outer</span>(X, Y, FUN, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>X: The first vector.</p></li>
<li><p>Y: The second vector.</p></li>
<li><p>FUN: The function to apply to each pair.</p></li>
<li><p>...: Additional arguments passed to the function.</p></li>
</ul>
</section>
<section id="basic-example-concatenating-strings" class="level4" data-number="20.16.3.2">
<h4 data-number="20.16.3.2" class="anchored" data-anchor-id="basic-example-concatenating-strings"><span class="header-section-number">20.16.3.2</span> Basic Example: Concatenating Strings</h4>
<p><strong>R-Bot:</strong> Let’s say you have two character vectors, s1 and s2:</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a>s1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>)</span>
<span id="cb162-2"><a href="#cb162-2" aria-hidden="true" tabindex="-1"></a>s2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"1"</span>, <span class="st">"2"</span>, <span class="st">"3"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If you want to create pairwise combinations of these elements, you can use outer with the paste function:</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a>combinations <span class="ot">&lt;-</span> <span class="fu">outer</span>(s1, s2, paste, <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb163-2"><a href="#cb163-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(combinations)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> What does that do?</p>
<p><strong>R-Bot:</strong> This will combine each element of s1 with every element of s2, like this:</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="do">##     [,1] [,2] [,3]</span></span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1,] "A1" "A2" "A3"</span></span>
<span id="cb164-3"><a href="#cb164-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [2,] "B1" "B2" "B3"</span></span>
<span id="cb164-4"><a href="#cb164-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [3,] "C1" "C2" "C3"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Each row corresponds to an element of s1, and each column corresponds to an element of s2.</p>
</section>
<section id="flattening-the-results" class="level4" data-number="20.16.3.3">
<h4 data-number="20.16.3.3" class="anchored" data-anchor-id="flattening-the-results"><span class="header-section-number">20.16.3.3</span> Flattening the Results</h4>
<p><strong>User:</strong> That’s cool, but how do I get the results as a single vector?</p>
<p><strong>R-Bot:</strong> You can use as.vector or c() to flatten the matrix:</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a>flat_combinations <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(combinations)</span>
<span id="cb165-2"><a href="#cb165-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(flat_combinations)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] "A1" "A2" "A3" "B1" "B2" "B3" "C1" "C2" "C3"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This gives you all the pairwise combinations in a single vector.</p>
</section>
<section id="using-other-functions" class="level4" data-number="20.16.3.4">
<h4 data-number="20.16.3.4" class="anchored" data-anchor-id="using-other-functions"><span class="header-section-number">20.16.3.4</span> Using Other Functions</h4>
<p><strong>User:</strong> What if I want to perform mathematical operations instead of concatenating strings?</p>
<p><strong>R-Bot:</strong> Great question! You can pass any function to outer. For example, let’s multiply two numeric vectors:</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a>v1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb167-2"><a href="#cb167-2" aria-hidden="true" tabindex="-1"></a>v2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>)</span>
<span id="cb167-3"><a href="#cb167-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb167-4"><a href="#cb167-4" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">outer</span>(v1, v2, <span class="st">`</span><span class="at">*</span><span class="st">`</span>)</span>
<span id="cb167-5"><a href="#cb167-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="do">##     [,1] [,2] [,3]</span></span>
<span id="cb168-2"><a href="#cb168-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1,]    4    5    6</span></span>
<span id="cb168-3"><a href="#cb168-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [2,]    8   10   12</span></span>
<span id="cb168-4"><a href="#cb168-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [3,]   12   15   18</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Each element of result[i, j] is the product of v1[i] and v2[j].</p>
</section>
<section id="custom-functions" class="level4" data-number="20.16.3.5">
<h4 data-number="20.16.3.5" class="anchored" data-anchor-id="custom-functions"><span class="header-section-number">20.16.3.5</span> Custom Functions</h4>
<p><strong>User:</strong> Can I use my own function with outer?</p>
<p><strong>R-Bot:</strong> Absolutely! Let’s create a function to calculate the sum of two numbers raised to the power of 2:</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a>sum_square <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) (x <span class="sc">+</span> y)<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb169-2"><a href="#cb169-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-3"><a href="#cb169-3" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">outer</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">4</span><span class="sc">:</span><span class="dv">6</span>, sum_square)</span>
<span id="cb169-4"><a href="#cb169-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="do">##     [,1] [,2] [,3]</span></span>
<span id="cb170-2"><a href="#cb170-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1,]   25   36   49</span></span>
<span id="cb170-3"><a href="#cb170-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [2,]   49   64   81</span></span>
<span id="cb170-4"><a href="#cb170-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [3,]   81  100  121</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This demonstrates the flexibility of outer.</p>
</section>
<section id="practical-example-generating-unique-ids" class="level4" data-number="20.16.3.6">
<h4 data-number="20.16.3.6" class="anchored" data-anchor-id="practical-example-generating-unique-ids"><span class="header-section-number">20.16.3.6</span> Practical Example: Generating Unique IDs</h4>
<p><strong>R-Bot:</strong> Here’s a practical use case. Suppose you’re generating unique IDs from two sets of identifiers:</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a>group <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"G1"</span>, <span class="st">"G2"</span>)</span>
<span id="cb171-2"><a href="#cb171-2" aria-hidden="true" tabindex="-1"></a>member <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"M1"</span>, <span class="st">"M2"</span>, <span class="st">"M3"</span>)</span>
<span id="cb171-3"><a href="#cb171-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-4"><a href="#cb171-4" aria-hidden="true" tabindex="-1"></a>unique_ids <span class="ot">&lt;-</span> <span class="fu">outer</span>(group, member, paste, <span class="at">sep =</span> <span class="st">"-"</span>)</span>
<span id="cb171-5"><a href="#cb171-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(unique_ids)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a><span class="do">##     [,1]    [,2]    [,3]   </span></span>
<span id="cb172-2"><a href="#cb172-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1,] "G1-M1" "G1-M2" "G1-M3"</span></span>
<span id="cb172-3"><a href="#cb172-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [2,] "G2-M1" "G2-M2" "G2-M3"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can use this for labeling datasets or organizing experiments.</p>
</section>
<section id="summary" class="level4" data-number="20.16.3.7">
<h4 data-number="20.16.3.7" class="anchored" data-anchor-id="summary"><span class="header-section-number">20.16.3.7</span> Summary</h4>
<p><strong>R-Bot:</strong> To summarize:</p>
<ol type="1">
<li><p><strong>outer is versatile</strong>: It applies a function to all pairwise combinations of two vectors.</p></li>
<li><p><strong>Works with any function</strong>: From mathematical operations to custom logic.</p></li>
<li><p><strong>Produces matrices</strong>: Use as.vector to flatten the results if needed.</p></li>
</ol>
<p><strong>User:</strong> This is fantastic, R-Bot! I can see so many uses for outer.</p>
<p><strong>R-Bot:</strong> I’m glad you find it useful! It’s a small function with big possibilities. Ready to try it out?</p>
<p><strong>User:</strong> Definitely. Thanks, R-Bot!</p>
<p><strong>R-Bot:</strong> Anytime! Let’s outer some more fun later!</p>
</section>
</section>
</section>
<section id="applying-functions-to-parallel-vectors-or-lists-with-mapply" class="level2" data-number="20.17">
<h2 data-number="20.17" class="anchored" data-anchor-id="applying-functions-to-parallel-vectors-or-lists-with-mapply"><span class="header-section-number">20.17</span> Applying Functions to Parallel Vectors or Lists with mapply</h2>
<section id="video-16" class="level3" data-number="20.17.1">
<h3 data-number="20.17.1" class="anchored" data-anchor-id="video-16"><span class="header-section-number">20.17.1</span> Video</h3>
<p>Link</p>
</section>
<section id="code-16" class="level3" data-number="20.17.2">
<h3 data-number="20.17.2" class="anchored" data-anchor-id="code-16"><span class="header-section-number">20.17.2</span> Code</h3>
<div class="sourceCode" id="cb173"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mapply</span>(FUN, ..., <span class="at">MoreArgs =</span> <span class="cn">NULL</span>, <span class="at">SIMPLIFY =</span> <span class="cn">TRUE</span>, <span class="at">USE.NAMES =</span> <span class="cn">TRUE</span>)</span>
<span id="cb173-2"><a href="#cb173-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-3"><a href="#cb173-3" aria-hidden="true" tabindex="-1"></a>v1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb173-4"><a href="#cb173-4" aria-hidden="true" tabindex="-1"></a>v2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>)</span>
<span id="cb173-5"><a href="#cb173-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-6"><a href="#cb173-6" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">mapply</span>(<span class="st">`</span><span class="at">+</span><span class="st">`</span>, v1, v2)</span>
<span id="cb173-7"><a href="#cb173-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)</span>
<span id="cb173-8"><a href="#cb173-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-9"><a href="#cb173-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 5 7 9</span></span>
<span id="cb173-10"><a href="#cb173-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-11"><a href="#cb173-11" aria-hidden="true" tabindex="-1"></a>combine <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) <span class="fu">paste</span>(x, y, <span class="at">sep =</span> <span class="st">"-"</span>)</span>
<span id="cb173-12"><a href="#cb173-12" aria-hidden="true" tabindex="-1"></a>v1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>)</span>
<span id="cb173-13"><a href="#cb173-13" aria-hidden="true" tabindex="-1"></a>v2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"1"</span>, <span class="st">"2"</span>, <span class="st">"3"</span>)</span>
<span id="cb173-14"><a href="#cb173-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-15"><a href="#cb173-15" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">mapply</span>(combine, v1, v2)</span>
<span id="cb173-16"><a href="#cb173-16" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)</span>
<span id="cb173-17"><a href="#cb173-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-18"><a href="#cb173-18" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] "A-1" "B-2" "C-3"</span></span>
<span id="cb173-19"><a href="#cb173-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-20"><a href="#cb173-20" aria-hidden="true" tabindex="-1"></a>list1 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb173-21"><a href="#cb173-21" aria-hidden="true" tabindex="-1"></a>list2 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>)</span>
<span id="cb173-22"><a href="#cb173-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-23"><a href="#cb173-23" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">mapply</span>(<span class="st">`</span><span class="at">*</span><span class="st">`</span>, list1, list2)</span>
<span id="cb173-24"><a href="#cb173-24" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)</span>
<span id="cb173-25"><a href="#cb173-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-26"><a href="#cb173-26" aria-hidden="true" tabindex="-1"></a><span class="do">## [1]  4 10 18</span></span>
<span id="cb173-27"><a href="#cb173-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-28"><a href="#cb173-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-29"><a href="#cb173-29" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">mapply</span>(<span class="st">`</span><span class="at">*</span><span class="st">`</span>, list1, list2, <span class="at">SIMPLIFY =</span> <span class="cn">FALSE</span>)</span>
<span id="cb173-30"><a href="#cb173-30" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)</span>
<span id="cb173-31"><a href="#cb173-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-32"><a href="#cb173-32" aria-hidden="true" tabindex="-1"></a><span class="do">## [[1]]</span></span>
<span id="cb173-33"><a href="#cb173-33" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 4</span></span>
<span id="cb173-34"><a href="#cb173-34" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb173-35"><a href="#cb173-35" aria-hidden="true" tabindex="-1"></a><span class="do">## [[2]]</span></span>
<span id="cb173-36"><a href="#cb173-36" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 10</span></span>
<span id="cb173-37"><a href="#cb173-37" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb173-38"><a href="#cb173-38" aria-hidden="true" tabindex="-1"></a><span class="do">## [[3]]</span></span>
<span id="cb173-39"><a href="#cb173-39" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 18</span></span>
<span id="cb173-40"><a href="#cb173-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-41"><a href="#cb173-41" aria-hidden="true" tabindex="-1"></a>power <span class="ot">&lt;-</span> <span class="cf">function</span>(base, exponent) base<span class="sc">^</span>exponent</span>
<span id="cb173-42"><a href="#cb173-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-43"><a href="#cb173-43" aria-hidden="true" tabindex="-1"></a>bases <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb173-44"><a href="#cb173-44" aria-hidden="true" tabindex="-1"></a>exponents <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>)</span>
<span id="cb173-45"><a href="#cb173-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-46"><a href="#cb173-46" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">mapply</span>(power, bases, exponents)</span>
<span id="cb173-47"><a href="#cb173-47" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)</span>
<span id="cb173-48"><a href="#cb173-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-49"><a href="#cb173-49" aria-hidden="true" tabindex="-1"></a><span class="do">## [1]  8  9  4</span></span>
<span id="cb173-50"><a href="#cb173-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-51"><a href="#cb173-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-52"><a href="#cb173-52" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">mapply</span>(power, bases, exponents, <span class="at">MoreArgs =</span> <span class="fu">list</span>(<span class="at">constant =</span> <span class="dv">1</span>))</span>
<span id="cb173-53"><a href="#cb173-53" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)</span>
<span id="cb173-54"><a href="#cb173-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-55"><a href="#cb173-55" aria-hidden="true" tabindex="-1"></a>names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Alice"</span>, <span class="st">"Bob"</span>, <span class="st">"Charlie"</span>)</span>
<span id="cb173-56"><a href="#cb173-56" aria-hidden="true" tabindex="-1"></a>ages <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">35</span>)</span>
<span id="cb173-57"><a href="#cb173-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-58"><a href="#cb173-58" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">mapply</span>(<span class="cf">function</span>(name, age) <span class="fu">data.frame</span>(<span class="at">Name =</span> name, <span class="at">Age =</span> age),</span>
<span id="cb173-59"><a href="#cb173-59" aria-hidden="true" tabindex="-1"></a>                 names, ages, <span class="at">SIMPLIFY =</span> <span class="cn">FALSE</span>)</span>
<span id="cb173-60"><a href="#cb173-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-61"><a href="#cb173-61" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind, result)</span>
<span id="cb173-62"><a href="#cb173-62" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(df)</span>
<span id="cb173-63"><a href="#cb173-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-64"><a href="#cb173-64" aria-hidden="true" tabindex="-1"></a><span class="do">##     Name  Age</span></span>
<span id="cb173-65"><a href="#cb173-65" aria-hidden="true" tabindex="-1"></a><span class="do">## 1   Alice   25</span></span>
<span id="cb173-66"><a href="#cb173-66" aria-hidden="true" tabindex="-1"></a><span class="do">## 2     Bob   30</span></span>
<span id="cb173-67"><a href="#cb173-67" aria-hidden="true" tabindex="-1"></a><span class="do">## 3 Charlie   35</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="transcript-16" class="level3" data-number="20.17.3">
<h3 data-number="20.17.3" class="anchored" data-anchor-id="transcript-16"><span class="header-section-number">20.17.3</span> Transcript</h3>
<p><strong>User:</strong> Hey R-Bot, I’ve been working with vectors and lists in R and heard about this function mapply. What’s it for?</p>
<p><strong>R-Bot:</strong> Great question! mapply is short for <em>“multivariate apply”</em>. It applies a function to parallel vectors or lists, element by element, and returns the results. It’s like lapply or sapply, but it works with multiple inputs.</p>
<section id="basic-syntax" class="level4" data-number="20.17.3.1">
<h4 data-number="20.17.3.1" class="anchored" data-anchor-id="basic-syntax"><span class="header-section-number">20.17.3.1</span> Basic Syntax</h4>
<p><strong>R-Bot:</strong> The syntax for mapply is:</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mapply</span>(FUN, ..., <span class="at">MoreArgs =</span> <span class="cn">NULL</span>, <span class="at">SIMPLIFY =</span> <span class="cn">TRUE</span>, <span class="at">USE.NAMES =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p><strong>FUN</strong>: The function to apply.</p></li>
<li><p><strong>...</strong>: The vectors or lists you want to process in parallel.</p></li>
<li><p><strong>MoreArgs</strong>: A list of additional arguments to pass to FUN.</p></li>
<li><p><strong>SIMPLIFY</strong>: Logical, determines if the output should be simplified (e.g., a vector or array).</p></li>
<li><p><strong>USE.NAMES</strong>: Logical, whether to use names for the result.</p></li>
</ul>
</section>
<section id="basic-example-adding-two-vectors" class="level4" data-number="20.17.3.2">
<h4 data-number="20.17.3.2" class="anchored" data-anchor-id="basic-example-adding-two-vectors"><span class="header-section-number">20.17.3.2</span> Basic Example: Adding Two Vectors</h4>
<p><strong>R-Bot:</strong> Let’s start with a simple example. Suppose you have two vectors:</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a>v1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb175-2"><a href="#cb175-2" aria-hidden="true" tabindex="-1"></a>v2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can add them element by element using mapply and the + operator:</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">mapply</span>(<span class="st">`</span><span class="at">+</span><span class="st">`</span>, v1, v2)</span>
<span id="cb176-2"><a href="#cb176-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">5</span> <span class="dv">7</span> <span class="dv">9</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> That’s neat! It’s like running v1[i] + v2[i] for each i.</p>
<p><strong>R-Bot:</strong> Exactly! mapply automates this for you.</p>
</section>
<section id="applying-a-custom-function" class="level4" data-number="20.17.3.3">
<h4 data-number="20.17.3.3" class="anchored" data-anchor-id="applying-a-custom-function"><span class="header-section-number">20.17.3.3</span> Applying a Custom Function</h4>
<p><strong>R-Bot:</strong> You can also use mapply with a custom function. For example, let’s combine two vectors into strings with a separator:</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb178-1"><a href="#cb178-1" aria-hidden="true" tabindex="-1"></a>combine <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) <span class="fu">paste</span>(x, y, <span class="at">sep =</span> <span class="st">"-"</span>)</span>
<span id="cb178-2"><a href="#cb178-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-3"><a href="#cb178-3" aria-hidden="true" tabindex="-1"></a>v1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>)</span>
<span id="cb178-4"><a href="#cb178-4" aria-hidden="true" tabindex="-1"></a>v2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"1"</span>, <span class="st">"2"</span>, <span class="st">"3"</span>)</span>
<span id="cb178-5"><a href="#cb178-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-6"><a href="#cb178-6" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">mapply</span>(combine, v1, v2)</span>
<span id="cb178-7"><a href="#cb178-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"A-1"</span> <span class="st">"B-2"</span> <span class="st">"C-3"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="working-with-lists" class="level4" data-number="20.17.3.4">
<h4 data-number="20.17.3.4" class="anchored" data-anchor-id="working-with-lists"><span class="header-section-number">20.17.3.4</span> Working with Lists</h4>
<p><strong>User:</strong> Can it work with lists too?</p>
<p><strong>R-Bot:</strong> Absolutely! mapply processes lists the same way. Let’s multiply elements from two lists:</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb180-1"><a href="#cb180-1" aria-hidden="true" tabindex="-1"></a>list1 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb180-2"><a href="#cb180-2" aria-hidden="true" tabindex="-1"></a>list2 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>)</span>
<span id="cb180-3"><a href="#cb180-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb180-4"><a href="#cb180-4" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">mapply</span>(<span class="st">`</span><span class="at">*</span><span class="st">`</span>, list1, list2)</span>
<span id="cb180-5"><a href="#cb180-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>]  <span class="dv">4</span> <span class="dv">10</span> <span class="dv">18</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>User:</strong> Does mapply always return a vector?</p>
<p><strong>R-Bot:</strong> Not always. By default, it tries to simplify the result into a vector or array if possible. You can set SIMPLIFY = FALSE to return a list:</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb182-1"><a href="#cb182-1" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">mapply</span>(<span class="st">`</span><span class="at">*</span><span class="st">`</span>, list1, list2, <span class="at">SIMPLIFY =</span> <span class="cn">FALSE</span>)</span>
<span id="cb182-2"><a href="#cb182-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="do">## [[1]]</span></span>
<span id="cb183-2"><a href="#cb183-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 4</span></span>
<span id="cb183-3"><a href="#cb183-3" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb183-4"><a href="#cb183-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [[2]]</span></span>
<span id="cb183-5"><a href="#cb183-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 10</span></span>
<span id="cb183-6"><a href="#cb183-6" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb183-7"><a href="#cb183-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [[3]]</span></span>
<span id="cb183-8"><a href="#cb183-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 18</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="handling-additional-arguments" class="level4" data-number="20.17.3.5">
<h4 data-number="20.17.3.5" class="anchored" data-anchor-id="handling-additional-arguments"><span class="header-section-number">20.17.3.5</span> Handling Additional Arguments</h4>
<p><strong>R-Bot:</strong> If your function needs additional arguments, you can pass them with MoreArgs. For instance:</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb184-1"><a href="#cb184-1" aria-hidden="true" tabindex="-1"></a>power <span class="ot">&lt;-</span> <span class="cf">function</span>(base, exponent) base<span class="sc">^</span>exponent</span>
<span id="cb184-2"><a href="#cb184-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb184-3"><a href="#cb184-3" aria-hidden="true" tabindex="-1"></a>bases <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb184-4"><a href="#cb184-4" aria-hidden="true" tabindex="-1"></a>exponents <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>)</span>
<span id="cb184-5"><a href="#cb184-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb184-6"><a href="#cb184-6" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">mapply</span>(power, bases, exponents)</span>
<span id="cb184-7"><a href="#cb184-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>]  <span class="dv">8</span>  <span class="dv">9</span>  <span class="dv">4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Or add a constant to the result:</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb186-1"><a href="#cb186-1" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">mapply</span>(power, bases, exponents, <span class="at">MoreArgs =</span> <span class="fu">list</span>(<span class="at">constant =</span> <span class="dv">1</span>))</span>
<span id="cb186-2"><a href="#cb186-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="practical-example-creating-data-frames" class="level4" data-number="20.17.3.6">
<h4 data-number="20.17.3.6" class="anchored" data-anchor-id="practical-example-creating-data-frames"><span class="header-section-number">20.17.3.6</span> Practical Example: Creating Data Frames</h4>
<p><strong>User:</strong> Can I use this for real-world tasks?</p>
<p><strong>R-Bot:</strong> Definitely! Suppose you want to create a data frame from parallel vectors:</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a>names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Alice"</span>, <span class="st">"Bob"</span>, <span class="st">"Charlie"</span>)</span>
<span id="cb187-2"><a href="#cb187-2" aria-hidden="true" tabindex="-1"></a>ages <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">35</span>)</span>
<span id="cb187-3"><a href="#cb187-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-4"><a href="#cb187-4" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">mapply</span>(<span class="cf">function</span>(name, age) <span class="fu">data.frame</span>(<span class="at">Name =</span> name, <span class="at">Age =</span> age),</span>
<span id="cb187-5"><a href="#cb187-5" aria-hidden="true" tabindex="-1"></a>                 names, ages, <span class="at">SIMPLIFY =</span> <span class="cn">FALSE</span>)</span>
<span id="cb187-6"><a href="#cb187-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-7"><a href="#cb187-7" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind, result)</span>
<span id="cb187-8"><a href="#cb187-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1" aria-hidden="true" tabindex="-1"></a>    Name  Age</span>
<span id="cb188-2"><a href="#cb188-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>   Alice   <span class="dv">25</span></span>
<span id="cb188-3"><a href="#cb188-3" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>     Bob   <span class="dv">30</span></span>
<span id="cb188-4"><a href="#cb188-4" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> Charlie   <span class="dv">35</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="summary-1" class="level4" data-number="20.17.3.7">
<h4 data-number="20.17.3.7" class="anchored" data-anchor-id="summary-1"><span class="header-section-number">20.17.3.7</span> Summary</h4>
<p><strong>R-Bot:</strong> To summarize:</p>
<ol type="1">
<li><p><strong>mapply processes parallel inputs</strong>: It applies a function element by element to vectors or lists.</p></li>
<li><p><strong>Flexible output</strong>: Simplifies to vectors/arrays or keeps results as lists.</p></li>
<li><p><strong>Practical for combining data</strong>: Great for tasks like creating data frames or generating combinations.</p></li>
</ol>
<p><strong>User:</strong> This is so useful! It saves a lot of repetitive coding.</p>
<p><strong>R-Bot:</strong> That’s the magic of R—powerful tools like mapply make coding efficient and fun. Ready to give it a try?</p>
<p><strong>User:</strong> Definitely! Thanks, R-Bot!</p>
<p><strong>R-Bot:</strong> Anytime. Let’s mapply some awesomeness!</p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./baseR_R_Environment_Essentials.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">R Environment Essentials</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./appendices_references.html" class="pagination-link">
        <span class="nav-page-text">References</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>